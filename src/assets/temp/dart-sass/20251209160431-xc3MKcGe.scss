@use 'sass:string';
@use 'sass:list';
@use 'sass:map';
@use 'sass:color';
@use 'sass:math';
@use 'sass:meta';
@use 'sass:selector';

@import 'https://ms.systech.work/src/cdn/normalize/default.css';
@import 'https://ms.systech.work/src/cdn/animate/default.css';



/** dart-scss patch functions **/
//所有支持的 数据类型
$dartScssTypeList: number,string,color,list,map,calculation,bool,'null',function,mixin,arglist;
//scss 支持的 unit 单位 map 用于 set-unit
$dartScssUnitMap: (
    cm:     1cm,
    mm:     1mm,
    in:     1in,
    px:     1px,
    pt:     1pt,
    pc:     1pc,
    q:      1q,
    em:     1em,
    rem:    1rem,
    ex:     1ex,
    ch:     1ch,
    vw:     1vw,
    vh:     1vh,
    vmin:   1vmin,
    vmax:   1vmax,
    //!! %:    1%,  非法键名，使用 pec 代替 %
    '%':    1%,
    pec:    1%,
    fr:     1fr,
    cap:    1cap,
    ic:     1ic,
    lh:     1lh,
    rlh:    1rlh,
    s:      1s,
    deg:    1deg,
);
//list 默认 separator comma
$dftListSeparator: comma;
//所有可选的 top|right|bottom|left 方位字符的简写列表
$trblQueue: t,r,b,l,tr,tb,tl,rb,rl,bl,trb,trl,rbl,tbl,trbl,x,y,xy,all;
//所有可选的 top-left,top-right,bottom-left,bottom-right 角标字符的简写列表
$cornerQueue: t,b,r,l,tl,tr,bl,br,tbl,tbr,btl,btr,rtl,rbl,ltr,lbr,trbl,all;

/** type-system patch **/
//isa 快捷调用 meta.type-of($val) == $tp  <返回：bool>
@function isa($value, $type) {
    @if meta.type-of($type) != 'string' or list.index($dartScssTypeList, $type) == null {@return false;}
    @return meta.type-of($value) == $type;
}
//is-any 多个类型快捷判断  <返回：bool>
@function is-any($value, $types...) {
    @each $i in $types {
        @if isa($value, $i) {
            @return true;
        }
    }
    @return false;
}
//all-is 多个值类型快捷判断  <返回：bool>
@function all-is($type, $values...) {
    @if is-empty($values) {@return false;}
    @each $i in $values {
        @if not isa($i, $type) {@return false;}
    }
    @return true;
}
//is-*** 快捷类型判断  <返回：bool>
@function is-number($values...) {@return all-is(number, $values...);}
@function is-string($values...) {@return all-is(string, $values...);}
@function is-color($values...) {@return all-is(color, $values...);}
@function is-list($values...) {@return all-is(list, $values...);}
@function is-map($values...) {@return all-is(map, $values...);}
@function is-bool($values...) {@return all-is(bool, $values...);}
@function is-null($values...) {@return all-is('null', $values...);}
@function is-function($values...) {@return all-is(function, $values...);}
@function is-arglist($values...) {@return all-is(arglist, $values...);}
@function is-mixin($values...) {@return all-is(mixin, $values...);}
@function is-calculation($values...) {@return all-is(calculation, $values...);}
//is-empty 快捷判断 null|list|map|string 为空  <返回：bool>
@function is-empty($value) {
    //null 返回 true
    @if is-null($value) {@return true;}
    @if is-any($value, list,arglist,map) {@return len($value) <= 0;}
    @if is-string($value) {@return str-len($value) <= 0;}
    //其他类型一律返回 false
    @return false;
}
//is-nemstr 简写 is-string(val) and val != ''  <返回：bool>
@function is-nemstr($value) {@return is-string($value) and $value != '';}
//is-nemlist 简写 is-any(val, list,arglist) and not is-empty(val)  <返回：bool>
@function is-nemlist($value) {@return is-any($value, list, arglist) and not is-empty($value);}
//is-nemmap 简写 is-map(val) and not is-empty(val)  <返回：bool>
@function is-nemmap($value) {@return is-map($value) and not is-empty($value);}
//is-digit 判断是否纯数字或纯数字字符串  <返回：bool>
@function is-digit($value) {
    //无单位 number --> true
    @if is-number($value) {@return math.is-unitless($value);}
    //非 string 空 string --> false
    @if not is-string($value) or is-empty($value) {@return false;}
    //一些无效字符串
    @if list.index(('-','.','-.','.-'), $value) != null {@return false;}
    $nl: ('0','1','2','3','4','5','6','7','8','9');
    @if str-len($value) == 1 {@return list.index($nl, $value) != null;}
    $minus: false;
    $dot: false;
    @for $i from 1 through str-len($value) {
        $ch: string.slice($value, $i, $i);
        @if $ch == '-' {
            //- 负数符号仅允许在第 1 位，且只能有 1 个
            @if $i != 1 or $minus == true {
                @return false;
            } @else {
                $minus: true;
            }
        } @else if $ch == '.' {
            //只允许 1 个小数点
            @if $dot == true {
                @return false;
            } @else {
                $dot: true;
            }
        } @else if list.index($nl, $ch) == null {
            @return false;
        }
    }
    @return true;
}
//is-numeric 判断一个值是否是数值形式（纯数字、带单位数字、字符串）  <返回：bool|number>
@function is-numeric($value, $conv: false) {
    //is-numer --> true
    @if is-number($value) {@return true;}
    //非 string 空 string --> false
    @if not is-string($value) or is-empty($value) {@return false;}
    $len: str-len($value);
    $num-str: '';
    $unit: '';
    $minus: false;
    $dot: false;
    @for $i from 1 through $len {
        $ch: string.slice($value, $i, $i);
        @if $ch == '-' or $ch == '.' or is-digit($ch) {
            @if $ch == '-' {
                @if $i != 1 or $minus == true {
                    //负号只能在首位，且只能有 1 个
                    @return false;
                } @else {
                    $minus: true;
                }
            } @else if $ch == '.' {
                @if $dot == true {
                    //只允许有 1 个 .
                    @return false;
                } @else {
                    $dot: true;
                }
            } @else {
                @if $unit != '' {
                    //在 单位后 还有数字，返回 false
                    @return false;
                }
            }
            $num-str: $num-str + $ch;
        } @else {
            @if $num-str == '' {
                //字符串首位 非数字，返回 false
                @return false;
            }
            $unit: $unit + $ch;
        }
    }
    @if $conv == debug {
        @return ($num-str, $unit);
    }
    //不包含任何数字
    @if $num-str == '' {@return false;}
    //将数字字符串转为 number
    $num: to-digit($num-str);
    @if not is-number($num) {@return false;}
    //$conv = true 返回转换后的 number
    @if $conv == true {
        @if $unit == '' {@return $num;}
        //合并 unit 返回 number
        @return set-unit($num, $unit);
    } @else {
        @return true;
    }
}
//to-digit 将 is-digit 字符串转为 number  <返回：number|null>
@function to-digit($value) {
    @if not is-digit($value) {@return null;}
    //number 直接返回
    @if is-number($value) {@return $value;}
    $nl: ('0','1','2','3','4','5','6','7','8','9');
    $vl: (0,1,2,3,4,5,6,7,8,9);
    $len: str-len($value);
    @if $len == 1 {
        @return nth($vl, list.index($nl, $value));
    }
    //标记 - 负数
    $is-minus: string.slice($value, 1, 1) == '-';
    @if $is-minus {
        $value: string.slice($value, 2, $len);
    }
    //.3 --> 0.3
    @if string.slice($value, 1, 1) == '.' {
        $value: '0' + $value;
    }
    //3. --> 3.0
    @if string.slice($value, $len, $len) == '.' {
        $value: $value + '0';
    }
    $len: str-len($value);

    //不含 . 
    @if string.index($value, '.') == null {
        $num: 0;
        @for $i from 1 through $len {
            $dig: to-digit(string.slice($value, $i, $i));
            // 105 = 1 * pow(10, 2) + 0 * pow(10, 1) + 5 * pow(10, 0)
            $num: $num + $dig * math.pow(10, $len - $i);
        }
        @return if($is-minus, $num * -1, $num);
    }

    //包含 . 数字字符串拆为 整数部分 和 小数部分
    $nstrs: string.split($value, '.');
    $nsl: len($nstrs);
    @if $nsl > 2 or $nsl < 1 {@return null;}
    $int: to-digit(nth($nstrs, 1));
    @if not is-number($int) {@return null;}
    @if $nsl == 1 {@return if($is-minus, $int * -1, $int);}
    $flo-str: nth($nstrs, 2);
    $flo-int: to-digit($flo-str);
    @if not is-number($flo-int) {@return null;}
    $flo: math.div($flo-int, math.pow(10, str-len($flo-str)));
    $num: $int + $flo;
    @return if($is-minus, $num * -1, $num);
}
//to-string 任意值转为 string  <返回：string|null>
@function to-string($value, $escape: auto) {
    @if is-null($value) {@return null;}
    @if is-string($value) {@return $value;}
    @return '#{$value}';
}
//to-number 任意值转为 number  <返回：number|null>
@function to-number($value) {
    @if is-null($value) {@return null;}
    $tp: meta.type-of($value);
    @if $tp == 'number' {@return $value;}
    @if $tp == 'bool' {@return if($value == true, 1, 0);}
    @if $tp != 'string' {@return null;}
    $num: is-numeric($value, true);
    @if not is-number($num) {@return null;}
    @return $num;
}
//to-strings 将任意多个值 转为 string 只要有一个失败 则返回 null 全部成功则返回 顺序一致的 list  <返回：list|null>
@function to-strings($values...) {
    @if len($values) <= 0 {@return ();}
    $strs: ();
    @each $i in $values {
        $ni: to-string($i);
        @if not is-string($ni) {@return null;}
        $strs: list.append($strs, $ni);
    }
    @return $strs;
}
//to-numbers 将任意多个值 转为 number 只要有一个失败 则返回 null 全部成功则返回 顺序一致的 list  <返回：list|null>
@function to-numbers($values...) {
    @if len($values) <= 0 {@return ();}
    $nums: ();
    @each $i in $values {
        $ni: to-number($i);
        @if is-null($ni) {@return null;}
        $nums: push($nums, $ni);
    }
    @return $nums;
}
//to-compatible-numbers 转换任意多个值为 number 且必须 compatible 成功返回 list 否则返回 null  <返回：list|null>
@function to-compatible-numbers($values...) {
    $nums: to-numbers($values...);
    @if is-null($nums) {@return null;}
    @if all-compatible($nums...) != true {@return null;}
    @return $nums;
}
//to-unitless-numbers 转换任意多个值为 纯数字 number 成功返回 list 否则返回 null  <返回：list|null>
@function to-unitless-numbers($values...) {
    $nums: to-numbers($values...);
    @if is-null($nums) {@return null;}
    $ns: ();
    @each $i in $nums {
        $ns: push($ns, strip-unit($i));
    }
    @return $ns;
}
//to-dec 十六进制字符(ff) 转 十进制 number(255) 仅支持正整数 自动转换类型  <返回：number|null>
@function to-dec($hex) {
    @if is-digit($hex) {$hex: to-string($hex);}
    @if not is-nemstr($hex) {@return null;}
    $hex: str-lower($hex);
    $ls: '0123456789abcdef';
    $nl: (0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15);
    $len: str-len($hex);
    @if $len == 1 {
        @return nth($nl, str-idx($ls, $hex));
    }

    $num: 0;
    @for $i from 1 through $len {
        $dig: to-dec(str-sub($hex, $i, $i));
        // ff = 15 * pow(16, 1) + 15 * pow(16, 0)
        $num: $num + $dig * pow(16, $len - $i);
    }
    @return $num;

}
//to-hex 十进制数(255) 转 十六进制字符串(ff) 仅支持正整数 自动类型转换  <返回：string|null>
@function to-hex($dec) {
    @if not is-digit($dec) {@return null;}
    $dec-str: to-string($dec);
    @if str-has($dec-str, '.') or str-has($dec-str, '-') {@return null;}
    $dec: to-number($dec);
    @if $dec == 0 {@return '0';}

    $ls: '0123456789abcdef';
    $nl: (0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15);

    //确定位数，支持 8 位十六进制数
    $digs: 0;
    @for $i from 1 through 8 {
        @if $digs == 0 and pow(16, $i) > $dec {
            $digs: $i;
        }
    }
    @if $digs == 0 {
        //超过支持位数
        @return null;
    }

    //1 位
    @if $digs == 1 {
        $idx: idx($nl, $dec);
        @if is-null($idx) {
            @return null;
        } @else {
            $hexi: str-sub($ls, $idx, $idx);
            @return $hexi;
        }
    }

    //循环除以 16 直到 商 < 16
    //商
    $left: $dec;
    //余数  --> 当前位的数值 0~15
    $quos: ();
    @for $i from 1 through $digs {
        $quo: $left % 16;
        $left: floor(div($left, 16));
        $quos: push($quos, $quo);
    }
    
    //依次将每一位的数值 转为 十六进制字符
    $ts: '';
    @each $i in $quos {
        $idx: idx($nl, $i);
        @if is-null($idx) or (is-number($idx) and $idx > 16) {
            @return null;
        } @else {
            $hexi: str-sub($ls, $idx, $idx);
            $ts: $ts + $hexi;
        }
    }
    @return $ts;
}

/** string patch **/
//根据传入的不定参数创建字符串  <返回：string>
@function str($pieces...) {
    $ts: '';
    @each $i in $pieces {
        $si: to-string($i);
        @if is-string($si) {
            $ts: $ts + $si;
        }
    }
    @return $ts;
}
//str-len 增强 string.length 自动转换类型  <返回：number>
@function str-len($string) {
    $string: to-string($string);
    @if not is-string($string) {@return 0;}
    @return string.length($string);
}
//str-sub 增强 string.slice 自动类型转换  <返回：string>
@function str-sub($string, $start-at, $end-at: -1) {
    $str: to-string($string);
    @if not is-string($str) or is-empty($str) {@return $string;}
    @return string.slice($string, $start-at, $end-at);
}
//str-idx 增强 string.index 自动类型转换  <返回：string>
@function str-idx($string, $substring) {
    $strs: to-strings($string, $substring);
    @if is-null($strs) {@return $string;}
    @return string.index($strs...);
}
//str-includes 自动类型转换  <返回：bool>
@function str-includes($string, $search) {
    $strs: to-strings($string, $search);
    @if is-null($strs) {@return false;}
    @return not is-null(string.index($strs...));
}
//str-has 简写 str-includes  <返回：bool>
@function str-has($args...) {@return str-includes($args...);}
//str-join 使用连接符 连接 pieces  <返回：string>
@function str-join($glue: '-', $pieces...) {
    $list: ();
    @each $i in $pieces {
        $si: to-string($i);
        @if is-string($si) {
            $list: push($list, $si);
        }
    }
    @return list-join($list, $glue);
}
//str-starts-with 自动类型转换  <返回：bool>
@function str-starts-with($string, $search) {
    $strs: to-strings($string, $search);
    @if is-null($strs) {@return false;}
    $idx: string.index($strs...);
    @return is-number($idx) and $idx == 1;
}
//str-ends-with 自动类型转换  <返回：bool>
@function str-ends-with($string, $search) {
    $strs: to-strings($string, $search);
    @if is-null($strs) {@return false;}
    @if not str-includes($strs...) {@return false;}
    $string: nth($strs, 1);
    $search: nth($strs, 2);
    $len: str-len($string);
    $slen: str-len($search);
    @return string.slice($string, $len - $slen + 1, $len) == $search;
}
//str-replace 替换字符串 递归替换所有找到的 search 自动转换类型  <返回：string>
@function str-replace($string, $search, $replace) {
    $strs: to-strings($string, $search, $replace);
    @if is-null($strs) {@return $string;}
    $string: nth($strs, 1);
    $search: nth($strs, 2);
    $replace: nth($strs, 3);
    $len: str-len($string);
    $slen: str-len($search);
    @if $len < $slen {@return $string;}
    $idx: string.index($string, $search);
    @if is-null($idx) {@return $string;}
    $nstr-a: if($idx == 1, '', string.slice($string, 1, $idx - 1));
    $nstr-b: '';
    @if $len - $idx - $slen + 1 >= $slen {
        //剩余字符串长度 >= search 字符串长度，递归调用
        $nstr-b: str-replace(string.slice($string, $idx + $slen, $len), $search, $replace);
    } @else {
        //剩余字符串长度 < search 字符串长度，直接截取剩余的部分
        $nstr-b: if($idx + $slen == $len + 1, '', string.slice($string, $idx + $slen, $len));
    }
    @return $nstr-a + $replace + $nstr-b + '';
}
//trim|trim-start|trim-end 去除字符串首尾的 空格 或 $search 自动类型转换  <返回：string>
@function trim-start($string, $search: ' ') {
    @if not str-includes($string, $search) or  not str-starts-with($string, $search) {@return to-string($string);}
    $strs: to-strings($string, $search);
    @if is-null($strs) {@return $string;}
    $string: nth($strs, 1);
    $search: nth($strs, 2);
    $len: str-len($string);
    $slen: str-len($search);
    $slice-n: math.ceil(math.div($len, $slen));
    $ts: $string;
    @for $i from 1 through $slice-n {
        $ch: string.slice($ts, 1, $slen);
        @if $ch == $search {
            $ts: string.slice($ts, $slen + 1, str-len($ts));
        } @else {
            @return $ts;
        }
    }
    @return '';
}
@function trim-end($string, $search: ' ') {
    @if not str-includes($string, $search) or  not str-ends-with($string, $search) {@return to-string($string);}
    $strs: to-strings($string, $search);
    @if is-null($strs) {@return $string;}
    $string: nth($strs, 1);
    $search: nth($strs, 2);
    $len: str-len($string);
    $slen: str-len($search);
    $slice-n: math.ceil(math.div($len, $slen));
    $ts: $string;
    @for $i from 1 through $slice-n {
        $tlen: str-len($ts);
        $si: $tlen - $slen + 1;
        @if $si < 1 {$si: 1;}
        $ch: string.slice($ts, $si, $tlen);
        @if $ch == $search {
            $ts: string.slice($ts, 1, $si - 1);
        } @else {
            @return $ts;
        }
    }
    @return '';
}
@function trim($string, $search: ' ') {
    @return trim-start(trim-end($string, $search), $search);
}
//str-upper|str-lower|str-ucfirst|str-lcfirst|str-camel|str-kebab 自动转换类型  <返回：string>
@function str-upper($string) {
    $str: to-string($string);
    @return if(not is-string($str), $string, string.to-upper-case($str));
}
@function str-lower($string) {
    $str: to-string($string);
    @return if(not is-string($str), $string, string.to-lower-case($str));
}
@function str-ucfirst($string) {
    $str: to-string($string);
    @if not is-string($str) or is-empty($str) {@return $string;}
    $fs: string.slice($str, 1, 1);
    $len: str-len($str);
    $rs: if($len <= 1, '', string.slice($str, 2, $len));
    $ufs: str-upper($fs);
    @return $ufs + $rs;
}
@function str-lcfirst($string) {
    $str: to-string($string);
    @if not is-string($str) or is-empty($str) {@return $string;}
    $fs: string.slice($str, 1, 1);
    $len: str-len($str);
    $rs: if($len <= 1, '', string.slice($str, 2, $len));
    $lfs: str-lower($fs);
    @return $lfs + $rs;
}
@function str-camel($string, $separator: '-') {
    $strs: to-strings($string, $separator);
    @if is-null($strs) {@return $string;}
    $string: nth($strs, 1);
    $separator: nth($strs, 2);
    $pieces: string.split($string, $separator);
    @if not is-list($pieces) or is-empty($pieces) {@return $string;}
    $ts: '';
    @each $i in $pieces {
        $ui: str-ucfirst(str-lower($i));
        $ts: $ts + $ui;
    }
    @return $ts;
}
@function str-kebab($string, $separator: '-') {
    $strs: to-strings($string, $separator);
    @if is-null($strs) {@return $string;}
    $string: nth($strs, 1);
    $separator: nth($strs, 2);
    $str: str-lcfirst($string);
    $us: 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
    $ts: '';
    @for $i from 1 through str-len($str) {
        $ch: string.slice($str, $i, $i);
        @if str-includes($us, $ch) {
            $ts: $ts + $separator + $ch;
        } @else {
            $ts: $ts + $ch;
        }
    }
    @return str-lower($ts);
}

/** number|math patch **/
//unit 简写  <返回：string|null> 
@function unit($number) {
    $num: to-number($number);
    @if not is-number($num) {@return null;}
    @return math.unit($number);
}
//strip-unit 将 100px 形式数值 去除单位 自动转换类型  <返回：number 无单位>
@function strip-unit($number) {
    $num: to-number($number);
    @if not is-number($num) {@return $number;}
    $number: $num;
    @if math.is-unitless($number) {@return $number;}
    $u: unit($number);
    $num-str: $number + '';
    $num-str: str-replace($num-str, $u, '');
    @return to-digit($num-str);
}
//set-unit 替换传入的 number 的 unit 单位 自动转换类型   <返回：number 带单位>
@function set-unit($number, $unit) {
    $num: to-number($number);
    $unit: to-string($unit);
    @if not is-number($num) or not is-string($unit) {@return $number;}
    $number: $num;

    //!! % 在 $unitMap 中的键名为 pec
    @if $unit == '%' {$unit: pec;}

    $du: map.get($dartScssUnitMap, $unit);
    @if is-null($du) {@return $number;}
    @if unit($number) == $unit {@return $number;}
    $number: strip-unit($number);
    @if $unit == '' {@return $number;}
    @return $number * $du;
}
//all-compatible 扩展到多个 numbers 判断 compatible  <返回：bool>
@function all-compatible($numbers...) {
    $numbers: to-numbers($numbers...);
    @if is-null($numbers) or is-empty($numbers) {@return false;}
    $len: len($numbers);
    @if $len == 1 {@return true;}
    @for $i from 1 to $len - 1 {
        $n1: nth($numbers, $i);
        $n2: nth($numbers, $i + 1);
        @if math.compatible($n1, $n2) != true {
            @return false;
        }
    }
    @return true;
}
//num-clamp 确保输入的 number 在 min|max 范围内 自动转换类型  <返回：number|null>
@function n-clamp($min, $number, $max) {
    $nums: to-compatible-numbers($min, $number, $max);
    @if is-null($nums) {@return null;}
    @return math.clamp($nums...);
}
//min 最小值 自动转换类型  <返回：number|null>
@function min($numbers...) {
    //type-of($numbers) == arglist 可用 nth|length|@each
    $numbers: to-compatible-numbers($numbers...);
    @if is-null($numbers) or is-empty($numbers) {@return null;}
    @return math.min($numbers...);
}
//max 最大值 自动转换类型  <返回：number|null>
@function max($numbers...) {
    $numbers: to-compatible-numbers($numbers...);
    @if is-null($numbers) or is-empty($numbers) {@return null;}
    @return math.max($numbers...);
}
//扩展 加减乘除方法 add|sub|mul|div 自动转换类型  <返回：number|null>
@function add($numbers...) {
    $numbers: to-compatible-numbers($numbers...);
    @if is-null($numbers) or is-empty($numbers) {@return null;}
    $sum: 0;
    @each $i in $numbers {
        $sum: $sum + $i;
    }
    @return $sum;
}
@function sub($numbers...) {
    $numbers: to-compatible-numbers($numbers...);
    @if is-null($numbers) or is-empty($numbers) {@return null;}
    @if length($numbers) == 1 {@return nth($numbers, 1);}
    $diff: nth($numbers, 1);
    @for $i from 2 through length($numbers) {
        $n: nth($numbers, $i);
        $diff: $diff - $n;
    }
    @return $diff;
}
//!! 乘法|除法 会自动统一单位，使用 第一个存在的单位 作为最终结果的 单位
@function mul($numbers...) {
    $numbers: to-compatible-numbers($numbers...);
    @if is-null($numbers) or is-empty($numbers) {@return null;}
    $len: len($numbers);
    @if $len == 1 {@return nth($numbers, 1);}
    //统一单位，只保留第一个单位
    $unit: '';
    @each $i in $numbers {
        @if $unit == '' {
            $ui: unit($i);
            @if $ui != '' {
                $unit: $ui;
            }
        }
    }
    $prod: 1;
    @each $i in $numbers {
        $ni: strip-unit($i);
        $prod: $prod * $i;
    }
    @return if($unit != '', set-unit($prod, $unit), $prod);
}
@function div($numbers...) {
    $numbers: to-compatible-numbers($numbers...);
    @if is-null($numbers) or is-empty($numbers) {@return null;}
    $len: len($numbers);
    @if $len == 1 {@return nth($numbers, 1);}
    //统一单位，只保留第一个单位
    $unit: '';
    @each $i in $numbers {
        @if $unit == '' {
            $ui: unit($i);
            @if $ui != '' {
                $unit: $ui;
            }
        }
    }
    $quo: strip-unit(nth($numbers, 1));
    @for $i from 2 through $len {
        $ni: strip-unit(nth($numbers, $i));
        $quo: math.div($quo, $ni);
    }
    @return if($unit != '', set-unit($quo, $unit), $quo);
}
//扩展 round|ceil|floor|abs 方法 增加自动类型转换功能  <返回：number>
@function round($number) {
    $n: to-number($number);
    @if not is-number($n) {@return null;}
    @return math.round($n);
}
@function ceil($number) {
    $n: to-number($number);
    @if not is-number($n) {@return null;}
    @return math.ceil($n);
}
@function floor($number) {
    $n: to-number($number);
    @if not is-number($n) {@return null;}
    @return math.floor($n);
}
@function abs($number) {
    $n: to-number($number);
    @if not is-number($n) {@return null;}
    @return math.abs($n);
}

/** list patch **/
//mk 根据不定参数 创建 list  <返回：list>
@function mk($values...) {
    @return push((), $values...);
}
//len  <返回：number|null>
@function len($list) {
    @if is-any($list, list, arglist, map) {@return list.length($list);}
    @return null;
}
//idx 自动处理 quote  <返回：number|null>
@function idx($list, $value, $quote: false) {
    @if not is-list($list) {@return null;}
    $idx: list.index($list, $value);
    @if is-number($idx) {@return $idx;}
    @if is-string($value) and $quote == true {
        //quote 后再尝试一遍
        $idx: list.index(list-quote($list), $value);
        @if is-number($idx) {@return $idx;}
    }
    @return null;
}
//includes  <返回：bool>
@function includes($list, $value, $quote: false) {
    @return idx($list, $value, $quote) != null;
}
//has includes 简写  <返回：bool>
@function has($args...) {@return includes($args...);}
//将 list 中所有 is-string 元素执行 quote  <返回：list>
@function list-quote($list) {
    @if not is-list($list) {@return $list;}
    $rtn: ();
    @each $i in $list {
        @if is-string($i) {
            $rtn: list.append($rtn, string.quote($i));
        } @else {
            $rtn: list.append($rtn, $i);
        }
    }
    @return $rtn;
}
//push   <返回：list>
@function push($list, $values...) {
    @if not is-list($list) {@return $list;}
    $sep: if(is-empty($list), $dftListSeparator, list.separator($list));
    $bra: list.is-bracketed($list);
    @return list.join($list, $values, $sep, $bra);
}
//unshift  <返回：list>
@function unshift($list, $values...) {
    @if not is-list($list) {@return $list;}
    $sep: if(is-empty($list), $dftListSeparator, list.separator($list));
    $bra: list.is-bracketed($list);
    //$values: list-args($values...);
    @return list.join($values, $list, $sep, $bra);
}
//first|last  <返回：any>
@function first($list) {
    @if not is-list($list) or is-empty($list) {@return null;}
    @return nth($list, 1);
}
@function last($list) {
    @if not is-list($list) or is-empty($list) {@return null;}
    @return nth($list, len($list));
}
//slice 切片 list 支持负 index  <返回：list>
@function slice($list, $start, $end: 0) {
    @if not is-list($list) or is-empty($list) {@return $list;}
    @if not is-number($start) or not is-number($end) {@return $list;}
    $len: len($list);
    $sep: list.separator($list);
    $bra: list.is-bracketed($list);
    @if $start == 0 and $end == 0 {@return ();}
    @if $end == 0 {
        @if $start < 0 {$start: $start + $len + 1;}
        $end: $len;
    } @else if $start >= 0 {
        @if $end < 0 {$end: $end + $len;}
        @if $start == 0 {$start: 1;}
    } @else if $start < 0 {
        @if $end < 0 {$end: $end + $len + 1;}
        $start: $start + $len + 1;
    }
    //@if $start <= 0 {$start: $start + $len + 1;}
    //@if $end <= 0 {$end: $end + $len + 1;}
    $start: n-clamp(1, $start, $len);
    $end: n-clamp(1, $end, $len);
    @if $start > $end {
        $t: $end;
        $end: $start;
        $start: $t;
    }
    $rtn: ();
    @for $i from $start through $end {
        $ch: nth($list, $i);
        $rtn: list.append($rtn, $ch, $sep);
    }
    @return $rtn;
}
//splice 插入  支持负 index  <返回：list>
@function splice($list, $index, $length: 0, $values...) {
    @if not is-list($list) {@return $list;}
    @if not is-number($index) or not is-number($length) {@return $list;}
    $len: len($list);
    $sep: list.separator($list);
    $bra: list.is-bracketed($list);
    $length: n-clamp(0, $length, $len);
    //待拼接的 list 片段
    $l-s: ();
    $l-i: $values;  //list-args($values...);
    $l-e: ();
    @if $length == 0 {
        //不删除元素
        @if $index == 0 {
            $index: 1;
        } @else if $index < 0 {
            $index: $index + $len + 2;
        }
        $index: n-clamp(1, $index, $len + 1);
        $l-s: if($index == 1, (), slice($list, 1, $index - 1));
        $l-e: if($index == $len + 1, (), slice($list, $index, $len));
    } @else {
        //需要删除长度为 length 的 元素
        @if $index == 0 {$index: 1;}
        $start: $index;
        $end: $index + $length - 1;
        //调用 slice 的逻辑 取得要截取的 起止 index
        @if $end == 0 {
            @if $start < 0 {$start: $start + $len + 1;}
            $end: $len;
        } @else if $start >= 0 {
            @if $end < 0 {$end: $end + $len;}
            @if $start == 0 {$start: 1;}
        } @else if $start < 0 {
            @if $end < 0 {$end: $end + $len + 1;}
            $start: $start + $len + 1;
        }
        $start: n-clamp(1, $start, $len);
        $end: n-clamp(1, $end, $len);
        @if $start > $end {
            $t: $end;
            $end: $start;
            $start: $t;
        }
        
        $l-s: if($start == 1, (), slice($list, 1, $start - 1));
        $l-e: if($end == $len, (), slice($list, $end + 1, $len));
    }
    //拼接 list
    $rtn: list.join($l-s, $l-i, $sep, $bra);
    @return list.join($rtn, $l-e, $sep, $bra);
}
//list-insert 使用 scss 的参数风格执行 splice  <返回：list>
@function list-insert($list, $insert, $index, $length: 0) {
    @if is-list($insert) {
        @return splice($list, $index, $length, $insert...);
    }
    @return splice($list, $index, $length, $insert);
}
//nth 简写  <返回：any>
@function nth($list, $n) {
    @if not is-nemlist($list) {@return null;}
    @return list.nth($list, $n);
}
//set-nth 简写  <返回：list>
@function set-nth($list, $n, $value) {
    @if not is-list($list) {@return $list;}
    @return list.set-nth($list, $n, $value);
}
//del-nth 从 list 删除某个 index 支持负 index  <返回：list>
@function del-nth($list, $index) {
    @if not is-list($list) or is-empty($list) or not is-number($index) or $index == 0 {@return $list;}
    $len: len($list);
    $sep: if(is-empty($list), $dftListSeparator, list.separator($list));
    $bra: list.is-bracketed($list);
    @if $index == 0 {$index: 1;}
    @if $index < 0 {$index: $index + $len + 1;}
    $i: n-clamp(1, $index, $len);
    $la: if($index == 1, (), slice($list, 1, $index - 1));
    $lb: if($index == $len, (), slice($list, $index + 1, $len));
    @return list.join($la, $lb, $sep, $bra);

}
//remove 从 list 中删除元素 支持传入多个要删除的元素组成的 list  <返回：list>
@function remove($list, $removes...) {
    @if not is-list($list) {@return $list;}
    $len: length($list);
    @if $len <= 0 {@return $list;}
    @each $i in $removes {
        $index: idx($list, $i, true);
        @if not is-null($index) {
            $list: del-nth($list, $index);
        }
    }
    @return $list;
}
//list-join  <返回：string|null>
@function list-join($list, $glue: '-') {
    @if not is-list($list) {@return null;}
    @if is-empty($list) {@return '';}
    $ts: '';
    @each $i in $list {
        $si: to-string($i);
        @if not is-string($si) {
            $si: 'null';
        }
        @if $ts == '' {
            $ts: $si;
        } @else {
            $ts: $ts + $glue + $si;
        }
    }
    @return $ts;
}
//根据输入的 $p 解析得到 left,right,top,bottom 列表 返回：list|null
@function trbl($p: all) {
    $p: to-string($p);
    @if not is-nemstr($p) {@return null;}
    @if not has($trblQueue, $p, true) {@return null;}
    @if $p == all or $p == xy {
        @return mk(top,right,bottom,left);
    } @else if $p == x {
        @return mk(left,right);
    } @else if $p == y {
        @return mk(top,bottom);
    } @else {
        $cp: ();
        @if str-has($p, t) { $cp: push($cp, top); }
        @if str-has($p, r) { $cp: push($cp, right); }
        @if str-has($p, b) { $cp: push($cp, bottom); }
        @if str-has($p, l) { $cp: push($cp, left); }
        @return $cp;
    }
}
//根据输入的 $r 解析得到 top-left,top-right,bottom-left,bottom-right 列表 返回：list|null
@function corner($r: all) {
    $r: to-string($r);
    @if not is-nemstr($r) {@return null;}
    @if not has($cornerQueue, $r, true) {@return null;}
    $rlen: str-len($r);
    @if $rlen >= 4 or $r == 'all' or $r == 'tb' or $r == 'rl' or $r == 'trbl' {
        @return mk(top-left,top-right,bottom-left,bottom-right);
    } @else if $rlen == 3 {
        //3 个字符 tbl|tbr|btl|btr|rtl|rbl|ltr|lbr 同时设置 3 个角 
        //第一个字符 等同于 corner(t|b|r|l)
        $f: str-sub($r, 1,1);
        $cor-a: corner($f);
        //后两个字符，表示某一个角
        $b: str-sub($r, 2,3);
        $cor-b: corner($b);
        @return push($cor-a, $cor-b...);
    } @else if $rlen == 2 {
        //2 个字符 tl|tr|bl|br 设置 1 个角
        $cor: mk(top,left);
        @if str-has($r, t) { $cor: set-nth($cor, 1, top); }
        @if str-has($r, b) { $cor: set-nth($cor, 1, bottom); }
        @if str-has($r, l) { $cor: set-nth($cor, 2, left); }
        @if str-has($r, r) { $cor: set-nth($cor, 2, right); }
        $corstr: list-join($cor, '-');
        @return mk($corstr);
    } @else if $rlen == 1 {
        //1 个字符 t|b|r|l 同时设置 2 个角
        @if $r == t {
            @return mk(top-left,top-right);
        } @else if $r == b {
            @return mk(bottom-left,bottom-right);
        } @else if $r == l {
            @return mk(top-left,bottom-left);
        } @else if $r == r {
            @return mk(top-right,bottom-right);
        }
    }
    @return null;
}

/** map patch **/
//根据 key 前缀筛选 map  <返回：map|null>
@function map-filter-keys($map, $keys...) {
    @if not is-nemmap($map) or len($keys) <= 0 {@return null;}
    @if len($keys) == 1 {
        $key: nth($keys, 1);
        @if not is-nemstr($key) {@return null;}
        $kpre: $key + '-';
        $plen: str-len($kpre);
        $rtn: ();
        @each $k, $v in $map {
            @if $k == $key or str-starts-with($k, $kpre) {
                $rtn: map.set($rtn, $k, $v);
            }
        }
        @return $rtn;
    }

    $rtn: ();
    @each $key in $keys {
        $fmap: map-filter-keys($map, $key);
        @if is-nemmap($fmap) {
            $rtn: map.merge($rtn, $fmap);
        }
    }
    @return $rtn;
}
//theme-map-get 从主题默认的 参数 map 中读取值  <返回：null|color|number|list>
$themeMapTypes: color,size;
@function theme-map-get($map-type, $key, $suffix: null, $map: null) {
    @if not is-map($map) {
        @if not is-nemstr($map-type) or not has($themeMapTypes, $map-type) {@return null;}
        @if meta.variable-exists(#{$map-type}Map) {
            @if $map-type == color {$map: $colorMap;}
            @if $map-type == size {$map: $sizeMap;}
            //可扩展...
        } @else {
            @return null;
        }
    }
    @if not is-nemmap($map) {@return null;}

    //直接输入了 color|number 原值
    @if $map-type == color and is-color($key) {
        @return $key;
    }
    @if $map-type == size and is-number($key) {
        @return $key;
    }

    @if is-string($key) {
        //传入了单个 key 例如：btn-xxl|red-l2
        @if is-empty($key) {@return null;}
        @if is-nemstr($suffix) {
            @if $map-type == color  {$key: color-key-shift($key, $suffix);}
            @if $map-type == size  {$key: size-key-shift($key, $suffix);}
            //可扩展...
        }
        @if not is-nemstr($key) {@return null;}
        @return map.get($map, $key);
    }
    @if is-list($key) {
        //传入了 key list 例如：pd-s pd-m
        @if is-empty($key) {@return ();}
        $rtn: ();
        $sep: list.separator($key);
        $bra: list.is-bracketed($key);
        @each $i in $key {
            $v: theme-map-get($map-type, $i, $suffix, $map);
            @if is-null($v) {@return null;}
            $rtn: list.join($rtn, ($v), $sep, $bra);
        }
        @return $rtn;
    }
    @return null;
}
//color-get|size-get... 快捷调用 theme-map-get  <返回：null|color|number|list>
@function color-get($key, $suffix: null, $map: null) {
    @return theme-map-get(color, $key, $suffix, $map);
}
@function size-get($key, $suffix: null, $map: null) {
    @return theme-map-get(size, $key, $suffix, $map);
}
/**
    key-shift 通过给 map 键名(如：btn-d1) 增加调整后缀 l*|d*|s* 来生成新的键名  <返回：string>
    key-shift(btn-l2, d1)           --> btn-l1
    key-shift(btn-l1, d1)           --> btn-m
    key-shift(btn[-m], d1)          --> btn-d1
    key-shift(btn-d1, l3)           --> btn-l2
    key-shift(btn-xxl, s3, true)    --> btn-m
    key-shift(btn-xxs, l1, true)    --> btn-xs
**/
@function key-shift($key, $suffix, $size: false, $glue: '-') {
    $strs: to-strings($key, $suffix, $glue);
    @if is-null($strs) {@return $key;}
    $key: nth($strs, 1);
    $suffix: nth($strs, 2);
    $glue: nth($strs, 3);
    @if not is-bool($size) {$size: false;}

    //解析调整后缀 suffix
    $shift: key-suffix($suffix, $size);
    @if not is-list($shift) {@return $key;}
    $shift-tp: nth($shift, 2);
    $shift-lvl: nth($shift, 3);
    @if $shift-lvl == 0 {
        //无调整，返回原值
        @return $key;
    }

    //解析 key
    $kps: key-parse($key, $size, $glue);
    @if not is-list($kps) {@return $key;}
    $pre: nth($kps, 2);
    $key-tp: nth($kps, 4);
    $key-lvl: nth($kps, 5);
    
    //调整
    $ntp: '';
    $nlvl: 0;
    @if $shift-tp == $key-tp {
        $ntp: $key-tp;
        $nlvl: add($shift-lvl, $key-lvl);
    } @else {
        @if $key-tp == m {
            $ntp: $shift-tp;
            $nlvl: $shift-lvl;
        } @else {
            $d: sub($key-lvl, $shift-lvl);
            @if $d == 0 {
                $ntp: m;
                $nlvl: 0;
            } @else if $d > 0 {
                $ntp: $key-tp;
                $nlvl: $d;
            } @else {
                $ntp: $shift-tp;
                $nlvl: abs($d);
            }
        }
    }

    //生成新 suffix
    $nsuf: '';
    @if $ntp == m {
        $nsuf: m;
    } @else {
        @if $size == true {
            //size map-key 后缀为 xx* 形式
            $nsuf: $ntp;
            @if $nlvl > 1 {
                @for $i from 1 to $nlvl {
                    $nsuf: 'x' + $nsuf;
                }
            }
        } @else {
            //其他 map-key 后缀 为 l*|d* 形式
            $nsuf: $ntp + $nlvl;
        }
    }
    //返回新键名
    @return $pre + $glue + $nsuf;
}
//size-key-shift|color-key-shift 快捷方法
@function size-key-shift($key, $suffix, $glue: '-') {
    @if $key == transparent {@return transparent;}
    @return key-shift($key, $suffix, true, $glue);
}
@function color-key-shift($key, $suffix, $glue: '-') {@return key-shift($key, $suffix, false, $glue);}
/**
    key-parse 解析 map 键名 返回：list (键名，键名前缀，键名后缀，shift 方向，shift level，键名类型)|null
    key-parse(btn-xxs, true)     --> (btn-xxl, btn, s, 3, size)
    key-parse(btn-d3)            --> (btn-d3, btn, d, 3, color)
    key-parse(btn)               --> (btn, btn, m, 0, color)
    key-parse(btn, true)         --> (btn, btn, m, 0, size)
**/
@function key-parse($key, $size: false, $glue: '-') {
    $strs: to-strings($key, $glue);
    @if is-null($strs) {@return null;}
    $key: nth($strs, 1);
    $glue: nth($strs, 2);
    @if not is-bool($size) {$size: false;}
    //$key-tp: if($size, size, color);
    //key 拆分为 list
    $kl: string.split($key, $glue);
    $len: len($kl);
    //key 不含有效后缀
    @if $len < 2 or key-suffix(nth($kl, $len), $size) == null {
        $kl: push($kl, m);
        $len: $len + 1;
    }
    //key 前缀
    $pre: list-join(slice($kl, 1, -1), $glue);
    //key 后缀解析
    $suf: key-suffix(nth($kl, $len), $size);
    @if not is-list($suf) {@return null;}
    //合并返回
    @return push((), $key, $pre, $suf...);
}
/**
    key-suffix 解析 map 键名后缀 返回：list (后缀，shift 方向，shift level，后缀类型)|null
    key-suffix(d3)              --> (d3, d, 3, color)
    key-suffix(s2, true)        --> (s2, s, 2, size)
    key-suffix(xxl, true)       --> (xxl, l, 3, size)
    key-suffix(l, true)         --> (l, l, 1, size)
    key-suffix(m)               --> (m, m, 0, color)
    key-suffix(m, true)         --> (m, m, 0, size)
**/
@function key-suffix($suffix, $size: false) {
    $str: to-string($suffix);
    @if not is-string($str) or $str == '' {@return null;}
    $suffix: $str;
    @if not is-bool($size) {$size: false;}
    $suf-tp: if($size, size, color);
    $len: str-len($suffix);
    //是否以数字结尾
    $num-end: is-digit(string.slice($suffix, $len, $len));

    //解析 l1|d2|s3 形式
    @if $num-end == true {
        //字符长度必须 >= 2
        @if $len < 2 {@return null;}
        $stp: string.slice($suffix, 1,1);
        //shift 方向可选 lds
        @if not str-includes('lds', $stp) {@return null;}
        $lvl: strip-unit(string.slice($suffix, 2, $len));
        @return push((), $suffix, $stp, $lvl, $suf-tp);
    }

    //解析 l|s|m
    @if $len == 1 {
        @if not str-includes('lsm', $suffix) {@return null;}
        @if $suffix != 'm' and $size != true {@return null;}
        @return push((), $suffix, $suffix, if($suffix == 'm', 0, 1), $suf-tp);
    }

    //解析 xxl|xs
    //这种形式一定是 size map-key
    @if $size != true {@return null;}
    //最后一个字符可选 ls
    $stp: string.slice($suffix, $len, $len);
    @if not str-includes('ls', $stp) {@return null;}
    //之前的字符一定是一个或多个 x
    $lss: str-replace(string.slice($suffix, 1, $len - 1), x, '');
    @if $lss != '' {@return null;}
    //shift level == $len
    @return push((), $suffix, $stp, $len, size);
}

/** color patch **/
//is-transparent 判断 color 是否完全透明  <返回：bool>
@function is-transparent($color) {
    @if not is-color($color) {@return false;}
    @if $color == transparent {@return true;}
    @return channel($color, a) == 0;
}
// #ff112233 形式字符串 转为 color  <返回：color>
@function hex-to-color($hex) {

}
//channel 获取 color 颜色的 rgbhsla 7个通道值  <返回：单通道 number | list | null>
@function channel($color, $key: rgb) {
    @if not is-color($color) {@return null;}
    //$space 仅支持 rgb|hsl
    $dftSpace: rgb;
    $len: str-len($key);
    @if $len == 1 {
        $channels: (
            r: 'red',   g: 'green',         b: 'blue',
            h: 'hue',   s: 'saturation',    l: 'lightness',
            a: 'alpha'
        );
        @if map.has-key($channels, $key) != true {@return null;}
        $space: if(str-has(hsl, $key), hsl, rgb);
        @return color.channel($color, map.get($channels, $key), $space);
    }
    $rtn: ();
    @for $i from 1 through $len {
        $k: str-sub($key, $i, $i);
        $v: channel($color, $k);
        @if not is-number($v) {@return null;}
        $rtn: push($rtn, $v);
    }
    @return $rtn;
}
//set-rgb|set-hsl|set-alpha 快捷调用 color.change  <返回：color|null>
@function set-rgb($color, $r: null, $g: null, $b: null) {
    @if not is-color($color) {@return null;}
    @if not is-null($r) {$color: color.change($color, $red: $r, $space: rgb);}
    @if not is-null($g) {$color: color.change($color, $green: $g, $space: rgb);}
    @if not is-null($b) {$color: color.change($color, $blue: $b, $space: rgb);}
    @return $color;
}
@function set-hsl($color, $r: null, $g: null, $b: null) {
    @if not is-color($color) {@return null;}
    @if not is-null($h) {$color: color.change($color, $hue: $h, $space: hsl);}
    @if not is-null($s) {$color: color.change($color, $saturation: $s, $space: hsl);}
    @if not is-null($l) {$color: color.change($color, $lightness: $l, $space: hsl);}
    @return $color;
}
@function set-alpha($color, $a: null) {
    @if not is-color($color) {@return null;}
    @if not is-null($a) {$color: color.change($color, $alpha: $a, $space: rgb);}
    @return $color;
}
//scale-lightness|lighten|darken 通过 color.scale 加深|减淡  <返回：color|null>
@function scale-lightness($color, $level: 0, $step: 10%) {
    @if not is-color($color) {@return null;}
    @if is-transparent($color) {@return $color;}
    @if not is-number($level) {$level: to-number($level);}
    @if not is-number($level) or strip-unit($level) == 0 {@return $color;}
    $l: 0;
    @if math.is-unitless($level) {
        //无单位 level 表示 加深|减淡 级数 -10~0~10
        //限制步长在 1%~50%
        $step: n-clamp(1%, set-unit(abs($step), pec), 50%);
        //根据 step 计算支持的 最大|最小 级数
        $lmax: floor(strip-unit(div(100%, $step)));
        $lmin: mul($lmax, -1);
        //确保输入的 级数 在有效范围内
        $level: n-clamp($lmin, $level, $lmax);
        //级数转为实际的 lightness 参数值
        $l: mul($level, $step);
    } @else if unit($level) == '%' {
        //% 单位表示 加深|减淡 百分比
        $l: n-clamp(-100%, $level, 100%);
    } @else{
        //无效输入
        @return $color;
    }
    //调用 color.scale 方法
    @return color.scale($color, $lightness: $l);
}
@function lighten($color, $level: 0, $step: 10%) {@return scale-lightness($color, abs($level), $step);}
@function darken($color, $level: 0, $step: 10%) {@return scale-lightness($color, mul(abs($level), -1), $step);}
//scale-alpha 通过 set-alpha 为颜色增加 $level 级透明度  <返回：color|null>
@function scale-alpha($color, $level: 0, $step: 0.1) {
    @if not is-color($color) {@return null;}
    @if is-transparent($color) {@return $color;}
    //透明度级数无单位
    $level: strip-unit($level);
    //限制透明度步长 step 在 0.05~0.5
    $step: n-clamp(0.05, strip-unit($step), 0.5);
    //根据 step 确定透明度级数范围 0~$lmax
    $lmax: div(1, $step);
    $level: n-clamp(0, $level, $lmax);
    //根据透明度级数计算实际透明度值 级数 0~max 表示 完全透明~完全不透明
    $alpha: n-clamp(0, mul($level, $step), 1);
    //设置透明度
    @return set-alpha($color, $alpha);
}
//luma 计算颜色的视觉亮度  <返回：null|number 0~255 无单位>
@function luma($color) {
    @if not is-color($color) {@return null;}
    $rgb: channel($color, rgb);
    @if is-null($rgb) {@return null;}
    //$luma: round(0.299*$r + 0.587*$g + 0.114*$b);
    $r: mul(nth($rgb, 1), 0.299);
    $g: mul(nth($rgb, 2), 0.587);
    $b: mul(nth($rgb, 3), 0.114);
    @return round(add($r, $g, $b));
}
//fore-color 自动计算前景色 保证对比度 返回：color
@function fore-color($color, $alpha: 1, $dark: #000000, $light: #ffffff) {
    @if not is-color($color) {@return null;}
    @if is-transparent($color) {@return set-alpha($dark, $alpha);}
    $luma: luma($color);
    $fc: if($luma < 128, $light, $dark);
    @return set-alpha($fc, $alpha);
}



/** for debug **/
@mixin dump($map) {
    $cnt: '';
    @each $key, $val in $map {
        $cti: $key + ': ' + $val + ' (' + meta.type-of($val) + ');';
        $cnt: if($cnt == '', $cti, $cnt + ' | ' + $cti);
    }
    content: $cnt;
}

.dart-scss-type-system {
    $l: foo,bar,'jaz';
    $k: string.slice('foobar', 4, 6);

    $map: (
        btn-m: 32px,
        btn-l: 36px,
        btn-xl: 42px,
        btn-xxl: 48px,
        pd-m: 16px,
        pd-s: 12px,
        pd-xs: 8px,
        pd-xxs: 4px,
        rd-m: 12px,
        rd-s: 8px,
        rd-xs: 6px,
    );

    $map-a: map-filter-keys($map, btn);
    $map-b: map-filter-keys($map, btn, pd);

    $c: #fb7a7a;

    @include dump((

        clr-a: red(#fb7a7a),
        clr-b: channel($c, rgba),
        clr-c: channel($c, hsla),
        clr-d: lighten($c, 2),
        clr-e: darken($c, 1),
        clr-f: scale-alpha($c, 3),
        clr-g: fore-color($c),

        trbl: trbl(trb),
        corner: corner(tbl),

        mf-a: map.keys($map-a),
        mf-b: map.keys($map-b),   //meta.type-of($map-b),

        hex-a: to-dec(ef),
        hex-b: to-hex(200),


        /*typeof-unit-num: meta.type-of(10px),
        list-index: list.index($l, bar),
        list-index-quote: list.index($l, $k),
        list-index-noquote: list.index($l, jaz),
        isa: isa(foo-bar, list),
        noa: not isa(foo-bar, list),
        is-string: is-string(foo-bar),
        no-null: not is-null(null),
        is-null: is-null(null),

        is-calc: is-calculation(100px * 2),
        is-calc-a: is-calculation(calc(100px + 1em)),

        empty-string: is-empty(''),
        empty-list: is-empty(btn-m btn-xs),
        empty-map: is-empty((foo: 123, bar: 456)),
        empty-map2: is-empty(()),
        empty-null: is-empty(null),

        dig: is-digit(-.3),
        dig-a: is-digit('23.56'),
        dig-b: is-digit(35.62px),
        dig-c: is-digit(33.22.11),

        tdig: to-digit(-.3),
        tdig-a: to-digit('23.56'),
        tdig-b: to-digit(35.62px),
        tdig-c: to-digit(33.22.11),

        stripu: strip-unit(100px),
        stripu-a: strip-unit('25.6478px'),
        setu: set-unit('72.63em', '%'),

        rpl: str-replace(foobar, 'ob', bo),
        sw: str-starts-with(foobar, fo),
        ew: str-ends-with(foobar, ba),
        trs: trim-start(fffff, f),
        trs-a: trim-start('    foo bar   ', ' '),
        tre: trim-end(fofofofofo, fo),
        tre-a: trim-end('    foo bar   ', ' '),
        tr-a: trim('    foo bar   ', ' '),

        spl: string.split(foobar, ''),

        uper: str-upper(foobar),
        loer: str-lower(Foobar),
        ucf: str-ucfirst(fooBar),
        lcf: str-lcfirst(FooBar),
        cam: str-camel(foo-bar),
        keb: str-kebab(FooBar),

        //rpl: string.replace(foobar, o, x),
        rpl-a: str-replace(foobar, o, x),

        ssl: 'abcdefg',
        ssl-a: string.slice('abcdefg', -1),
        ssl-b: string.slice('abcdefg', -2, -1),
        ssl-c: string.slice('abcdefg', 2,5),
        ssl-d: string.insert('abcdefg', xx, -2),
        ssl-e: string.insert('abcdefg', xx, 2),

        lsl-a: slice((a,b,c,d,e,f,g), -1),
        lsl-b: slice((a,b,c,d,e,f,g), -2, -1),
        lsl-d: slice((a,b,c,d,e,f,g), -2, -2),
        lsl-c: slice((a,b,c,d,e,f,g), 2,5),
        lsl-e: slice((a,b,c,d,e,f,g), 2,2),

        lsp-a: splice((a,b,c,d,e,f,g), -1, 0, xx, yy),
        lsp-b: splice((a,b,c,d,e,f,g), -2, 0, xx, yy),
        lsp-c: splice((a,b,c,d,e,f,g), 1, 0, xx, yy),
        lsp-d: splice((a,b,c,d,e,f,g), 2, 0, xx, yy),
        lsp-e: splice((a,b,c,d,e,f,g), -2, 2, xx, yy),
        lsp-f: splice((a,b,c,d,e,f,g), 1, 2, xx, yy),
        lsp-g: splice((a,b,c,d,e,f,g), 3, 2, xx, yy),

        lis-a: list-insert((a,b,c,d,e,f,g), (xx, yy), -1, 0),
        lis-b: list-insert((a,b,c,d,e,f,g), (xx, yy), -2, 0),
        lis-c: list-insert((a,b,c,d,e,f,g), (xx, yy), 1, 0),
        lis-d: list-insert((a,b,c,d,e,f,g), (xx, yy), 2, 0),
        lis-e: list-insert((a,b,c,d,e,f,g), (xx, yy), -2, 2),
        lis-f: list-insert((a,b,c,d,e,f,g), (xx, yy), 1, 2),
        lis-g: list-insert((a,b,c,d,e,f,g), (xx, yy), 3, 2),

        ld-a: del-nth((a,b,c,d,e,f,g), -2),
        ld-b: del-nth((a,b,c,d,e,f,g), -1),
        ld-c: del-nth((a,b,c,d,e,f,g), 1),
        ld-d: del-nth((a,b,c,d,e,f,g), 2),

        lr-a: remove((a,b,c,d,e,f,g), f),
        lr-b: remove((a,b,c,d,e,f,g), c,e,g),

        key-suf-a: key-suffix(l3),
        key-suf-b: key-suffix(d3),
        key-suf-c: key-suffix(m, true),
        key-suf-d: key-suffix(xxxs, true),
        key-suf-e: key-suffix(l, true),

        key-ps-a: key-parse(btn-xxxl, true),
        key-ps-b: key-parse(btn-d1),
        key-ps-c: key-parse(btn-m),
        key-ps-d: key-parse(btn-fs),

        key-shf-a: key-shift(btn-l3, l1),
        key-shf-b: color-key-shift(btn-l3, d3),
        key-shf-c: key-shift(btn-xxs, l2, true),
        key-shf-d: size-key-shift(btn-xxxl, s4),

        min-a: math.min(100px, 20px, 75px),
        //min-b: math.min(100px, '20px', 75px),
        min-b: min(100px, '20px', 75px),

        clamp: n-clamp(100px, 20px, 75px),
        clamp-a: n-clamp(100px, '20px', 75px),

        str: str(foo, bar, jaz),
        str-j: str-join('-', foo, bar, jaz),

        map-l: len((foo:123, bar:456)),*/
    ));
}








/**
 * 主题模块 color 生成语句
 * 不要手动修改
 */

$colorListBase: red,orange,yellow,green,cyan,blue,purple,gray,danger,warn,success,primary,info,bz,fc,bgc,bdc;
$colorListStatic:   white,black,shadow;
$colorListAll:  red,orange,yellow,green,cyan,blue,purple,gray,danger,warn,success,primary,info,bz,fc,bgc,bdc,white,black,shadow;
$colorShiftQueue:   l6,l5,l4,l3,l2,l1,m,d1,d2,d3,d4,d5,d6;

$colorAlphaMap: (
a1: 1a,
a2: 33,
a3: 4d,
a4: 66,
a5: 80,
a6: 99,
a7: b3,
a8: cc,
a9: e6,
);
$colorListAlpha:    a1,a2,a3,a4,a5,a6,a7,a8,a9;

$typeList:  primary,danger,warn,success,info;
$effectList:    normal,fill,plain,popout;

$color-red-m:   #fa5151;
$color-red-d3:  #782626;
$color-red-d2:  #a23434;
$color-red-d1:  #cf4343;
$color-red-l1:  #fb7a7a;
$color-red-l2:  #fca4a4;
$color-red-l3:  #fdcece;
$color-red-m-fc:    #000000e6;
$color-red-d3-fc:   #ffffffe6;
$color-red-d2-fc:   #ffffffe6;
$color-red-d1-fc:   #ffffffe6;
$color-red-l1-fc:   #000000e6;
$color-red-l2-fc:   #000000e6;
$color-red-l3-fc:   #000000e6;
$color-orange-m:    #ff8600;
$color-orange-d3:   #7a4000;
$color-orange-d2:   #a55700;
$color-orange-d1:   #d36f00;
$color-orange-l1:   #ffa33d;
$color-orange-l2:   #ffc07a;
$color-orange-l3:   #ffddb7;
$color-orange-m-fc: #000000e6;
$color-orange-d3-fc:    #ffffffe6;
$color-orange-d2-fc:    #ffffffe6;
$color-orange-d1-fc:    #000000e6;
$color-orange-l1-fc:    #000000e6;
$color-orange-l2-fc:    #000000e6;
$color-orange-l3-fc:    #000000e6;
$color-yellow-m:    #fa9d3b;
$color-yellow-d3:   #784b1c;
$color-yellow-d2:   #a26626;
$color-yellow-d1:   #cf8230;
$color-yellow-l1:   #fbb46a;
$color-yellow-l2:   #fccc99;
$color-yellow-l3:   #fde3c8;
$color-yellow-m-fc: #000000e6;
$color-yellow-d3-fc:    #ffffffe6;
$color-yellow-d2-fc:    #ffffffe6;
$color-yellow-d1-fc:    #000000e6;
$color-yellow-l1-fc:    #000000e6;
$color-yellow-l2-fc:    #000000e6;
$color-yellow-l3-fc:    #000000e6;
$color-green-m: #07c160;
$color-green-d3:    #035c2e;
$color-green-d2:    #047d3e;
$color-green-d1:    #05a04f;
$color-green-l1:    #42cf86;
$color-green-l2:    #7edeac;
$color-green-l3:    #b9edd2;
$color-green-m-fc:  #ffffffe6;
$color-green-d3-fc: #ffffffe6;
$color-green-d2-fc: #ffffffe6;
$color-green-d1-fc: #ffffffe6;
$color-green-l1-fc: #000000e6;
$color-green-l2-fc: #000000e6;
$color-green-l3-fc: #000000e6;
$color-cyan-m:  #01c4b3;
$color-cyan-d3: #005e55;
$color-cyan-d2: #007f74;
$color-cyan-d1: #00a294;
$color-cyan-l1: #3dd2c5;
$color-cyan-l2: #7ae0d7;
$color-cyan-l3: #b7eee9;
$color-cyan-m-fc:   #000000e6;
$color-cyan-d3-fc:  #ffffffe6;
$color-cyan-d2-fc:  #ffffffe6;
$color-cyan-d1-fc:  #ffffffe6;
$color-cyan-l1-fc:  #000000e6;
$color-cyan-l2-fc:  #000000e6;
$color-cyan-l3-fc:  #000000e6;
$color-blue-m:  #1485ee;
$color-blue-d3: #093f72;
$color-blue-d2: #0d569a;
$color-blue-d1: #106ec5;
$color-blue-l1: #4ca2f2;
$color-blue-l2: #84bff6;
$color-blue-l3: #bddcfa;
$color-blue-m-fc:   #ffffffe6;
$color-blue-d3-fc:  #ffffffe6;
$color-blue-d2-fc:  #ffffffe6;
$color-blue-d1-fc:  #ffffffe6;
$color-blue-l1-fc:  #000000e6;
$color-blue-l2-fc:  #000000e6;
$color-blue-l3-fc:  #000000e6;
$color-purple-m:    #ea6e9c;
$color-purple-d3:   #70344a;
$color-purple-d2:   #984765;
$color-purple-d1:   #c25b81;
$color-purple-l1:   #ef90b3;
$color-purple-l2:   #f4b3cb;
$color-purple-l3:   #f9d6e3;
$color-purple-m-fc: #000000e6;
$color-purple-d3-fc:    #ffffffe6;
$color-purple-d2-fc:    #ffffffe6;
$color-purple-d1-fc:    #ffffffe6;
$color-purple-l1-fc:    #000000e6;
$color-purple-l2-fc:    #000000e6;
$color-purple-l3-fc:    #000000e6;
$color-gray-m:  #888888;
$color-gray-d3: #414141;
$color-gray-d2: #585858;
$color-gray-d1: #707070;
$color-gray-l1: #a4a4a4;
$color-gray-l2: #c1c1c1;
$color-gray-l3: #dddddd;
$color-gray-m-fc:   #000000e6;
$color-gray-d3-fc:  #ffffffe6;
$color-gray-d2-fc:  #ffffffe6;
$color-gray-d1-fc:  #ffffffe6;
$color-gray-l1-fc:  #000000e6;
$color-gray-l2-fc:  #000000e6;
$color-gray-l3-fc:  #000000e6;
$color-danger-m:    #fa5151;
$color-danger-d3:   #782626;
$color-danger-d2:   #a23434;
$color-danger-d1:   #cf4343;
$color-danger-l1:   #fb7a7a;
$color-danger-l2:   #fca4a4;
$color-danger-l3:   #fdcece;
$color-danger-m-fc: #000000e6;
$color-danger-d3-fc:    #ffffffe6;
$color-danger-d2-fc:    #ffffffe6;
$color-danger-d1-fc:    #ffffffe6;
$color-danger-l1-fc:    #000000e6;
$color-danger-l2-fc:    #000000e6;
$color-danger-l3-fc:    #000000e6;
$color-warn-m:  #fa9d3b;
$color-warn-d3: #784b1c;
$color-warn-d2: #a26626;
$color-warn-d1: #cf8230;
$color-warn-l1: #fbb46a;
$color-warn-l2: #fccc99;
$color-warn-l3: #fde3c8;
$color-warn-m-fc:   #000000e6;
$color-warn-d3-fc:  #ffffffe6;
$color-warn-d2-fc:  #ffffffe6;
$color-warn-d1-fc:  #000000e6;
$color-warn-l1-fc:  #000000e6;
$color-warn-l2-fc:  #000000e6;
$color-warn-l3-fc:  #000000e6;
$color-success-m:   #07c160;
$color-success-d3:  #035c2e;
$color-success-d2:  #047d3e;
$color-success-d1:  #05a04f;
$color-success-l1:  #42cf86;
$color-success-l2:  #7edeac;
$color-success-l3:  #b9edd2;
$color-success-m-fc:    #ffffffe6;
$color-success-d3-fc:   #ffffffe6;
$color-success-d2-fc:   #ffffffe6;
$color-success-d1-fc:   #ffffffe6;
$color-success-l1-fc:   #000000e6;
$color-success-l2-fc:   #000000e6;
$color-success-l3-fc:   #000000e6;
$color-primary-m:   #1485ee;
$color-primary-d3:  #093f72;
$color-primary-d2:  #0d569a;
$color-primary-d1:  #106ec5;
$color-primary-l1:  #4ca2f2;
$color-primary-l2:  #84bff6;
$color-primary-l3:  #bddcfa;
$color-primary-m-fc:    #ffffffe6;
$color-primary-d3-fc:   #ffffffe6;
$color-primary-d2-fc:   #ffffffe6;
$color-primary-d1-fc:   #ffffffe6;
$color-primary-l1-fc:   #000000e6;
$color-primary-l2-fc:   #000000e6;
$color-primary-l3-fc:   #000000e6;
$color-info-m:  #888888;
$color-info-d3: #414141;
$color-info-d2: #585858;
$color-info-d1: #707070;
$color-info-l1: #a4a4a4;
$color-info-l2: #c1c1c1;
$color-info-l3: #dddddd;
$color-info-m-fc:   #000000e6;
$color-info-d3-fc:  #ffffffe6;
$color-info-d2-fc:  #ffffffe6;
$color-info-d1-fc:  #ffffffe6;
$color-info-l1-fc:  #000000e6;
$color-info-l2-fc:  #000000e6;
$color-info-l3-fc:  #000000e6;
$color-bz-m:    #ff8600;
$color-bz-d3:   #7a4000;
$color-bz-d2:   #a55700;
$color-bz-d1:   #d36f00;
$color-bz-l1:   #ffa33d;
$color-bz-l2:   #ffc07a;
$color-bz-l3:   #ffddb7;
$color-bz-m-fc: #000000e6;
$color-bz-d3-fc:    #ffffffe6;
$color-bz-d2-fc:    #ffffffe6;
$color-bz-d1-fc:    #000000e6;
$color-bz-l1-fc:    #000000e6;
$color-bz-l2-fc:    #000000e6;
$color-bz-l3-fc:    #000000e6;
$color-fc-m:    #555555;
$color-fc-d3:   #282828;
$color-fc-d2:   #373737;
$color-fc-d1:   #464646;
$color-fc-l1:   #7d7d7d;
$color-fc-l2:   #a6a6a6;
$color-fc-l3:   #cfcfcf;
$color-fc-m-fc: #ffffffe6;
$color-fc-d3-fc:    #ffffffe6;
$color-fc-d2-fc:    #ffffffe6;
$color-fc-d1-fc:    #ffffffe6;
$color-fc-l1-fc:    #ffffffe6;
$color-fc-l2-fc:    #000000e6;
$color-fc-l3-fc:    #000000e6;
$color-bgc-m:   #f0f0f0;
$color-bgc-d3:  #909090;
$color-bgc-d2:  #afafaf;
$color-bgc-d1:  #d0d0d0;
$color-bgc-l1:  #f4f4f4;
$color-bgc-l2:  #fafafa;
$color-bgc-l3:  #ffffff;
$color-bgc-m-fc:    #000000e6;
$color-bgc-d3-fc:   #000000e6;
$color-bgc-d2-fc:   #000000e6;
$color-bgc-d1-fc:   #000000e6;
$color-bgc-l1-fc:   #000000e6;
$color-bgc-l2-fc:   #000000e6;
$color-bgc-l3-fc:   #000000e6;
$color-bdc-m:   #dfdfdf;
$color-bdc-d3:  #787878;
$color-bdc-d2:  #999999;
$color-bdc-d1:  #bdbdbd;
$color-bdc-l1:  #e5e5e5;
$color-bdc-l2:  #ececec;
$color-bdc-l3:  #f3f3f3;
$color-bdc-m-fc:    #000000e6;
$color-bdc-d3-fc:   #ffffffe6;
$color-bdc-d2-fc:   #000000e6;
$color-bdc-d1-fc:   #000000e6;
$color-bdc-l1-fc:   #000000e6;
$color-bdc-l2-fc:   #000000e6;
$color-bdc-l3-fc:   #000000e6;
$color-white-m: #ffffff;
$color-black-m: #000000;
$color-shadow-m:    #0000004d;

$colorMap: (
red-m:  #fa5151,
red-d3: #782626,
red-d2: #a23434,
red-d1: #cf4343,
red-l1: #fb7a7a,
red-l2: #fca4a4,
red-l3: #fdcece,
red-m-fc:   #000000e6,
red-d3-fc:  #ffffffe6,
red-d2-fc:  #ffffffe6,
red-d1-fc:  #ffffffe6,
red-l1-fc:  #000000e6,
red-l2-fc:  #000000e6,
red-l3-fc:  #000000e6,
orange-m:   #ff8600,
orange-d3:  #7a4000,
orange-d2:  #a55700,
orange-d1:  #d36f00,
orange-l1:  #ffa33d,
orange-l2:  #ffc07a,
orange-l3:  #ffddb7,
orange-m-fc:    #000000e6,
orange-d3-fc:   #ffffffe6,
orange-d2-fc:   #ffffffe6,
orange-d1-fc:   #000000e6,
orange-l1-fc:   #000000e6,
orange-l2-fc:   #000000e6,
orange-l3-fc:   #000000e6,
yellow-m:   #fa9d3b,
yellow-d3:  #784b1c,
yellow-d2:  #a26626,
yellow-d1:  #cf8230,
yellow-l1:  #fbb46a,
yellow-l2:  #fccc99,
yellow-l3:  #fde3c8,
yellow-m-fc:    #000000e6,
yellow-d3-fc:   #ffffffe6,
yellow-d2-fc:   #ffffffe6,
yellow-d1-fc:   #000000e6,
yellow-l1-fc:   #000000e6,
yellow-l2-fc:   #000000e6,
yellow-l3-fc:   #000000e6,
green-m:    #07c160,
green-d3:   #035c2e,
green-d2:   #047d3e,
green-d1:   #05a04f,
green-l1:   #42cf86,
green-l2:   #7edeac,
green-l3:   #b9edd2,
green-m-fc: #ffffffe6,
green-d3-fc:    #ffffffe6,
green-d2-fc:    #ffffffe6,
green-d1-fc:    #ffffffe6,
green-l1-fc:    #000000e6,
green-l2-fc:    #000000e6,
green-l3-fc:    #000000e6,
cyan-m: #01c4b3,
cyan-d3:    #005e55,
cyan-d2:    #007f74,
cyan-d1:    #00a294,
cyan-l1:    #3dd2c5,
cyan-l2:    #7ae0d7,
cyan-l3:    #b7eee9,
cyan-m-fc:  #000000e6,
cyan-d3-fc: #ffffffe6,
cyan-d2-fc: #ffffffe6,
cyan-d1-fc: #ffffffe6,
cyan-l1-fc: #000000e6,
cyan-l2-fc: #000000e6,
cyan-l3-fc: #000000e6,
blue-m: #1485ee,
blue-d3:    #093f72,
blue-d2:    #0d569a,
blue-d1:    #106ec5,
blue-l1:    #4ca2f2,
blue-l2:    #84bff6,
blue-l3:    #bddcfa,
blue-m-fc:  #ffffffe6,
blue-d3-fc: #ffffffe6,
blue-d2-fc: #ffffffe6,
blue-d1-fc: #ffffffe6,
blue-l1-fc: #000000e6,
blue-l2-fc: #000000e6,
blue-l3-fc: #000000e6,
purple-m:   #ea6e9c,
purple-d3:  #70344a,
purple-d2:  #984765,
purple-d1:  #c25b81,
purple-l1:  #ef90b3,
purple-l2:  #f4b3cb,
purple-l3:  #f9d6e3,
purple-m-fc:    #000000e6,
purple-d3-fc:   #ffffffe6,
purple-d2-fc:   #ffffffe6,
purple-d1-fc:   #ffffffe6,
purple-l1-fc:   #000000e6,
purple-l2-fc:   #000000e6,
purple-l3-fc:   #000000e6,
gray-m: #888888,
gray-d3:    #414141,
gray-d2:    #585858,
gray-d1:    #707070,
gray-l1:    #a4a4a4,
gray-l2:    #c1c1c1,
gray-l3:    #dddddd,
gray-m-fc:  #000000e6,
gray-d3-fc: #ffffffe6,
gray-d2-fc: #ffffffe6,
gray-d1-fc: #ffffffe6,
gray-l1-fc: #000000e6,
gray-l2-fc: #000000e6,
gray-l3-fc: #000000e6,
danger-m:   #fa5151,
danger-d3:  #782626,
danger-d2:  #a23434,
danger-d1:  #cf4343,
danger-l1:  #fb7a7a,
danger-l2:  #fca4a4,
danger-l3:  #fdcece,
danger-m-fc:    #000000e6,
danger-d3-fc:   #ffffffe6,
danger-d2-fc:   #ffffffe6,
danger-d1-fc:   #ffffffe6,
danger-l1-fc:   #000000e6,
danger-l2-fc:   #000000e6,
danger-l3-fc:   #000000e6,
warn-m: #fa9d3b,
warn-d3:    #784b1c,
warn-d2:    #a26626,
warn-d1:    #cf8230,
warn-l1:    #fbb46a,
warn-l2:    #fccc99,
warn-l3:    #fde3c8,
warn-m-fc:  #000000e6,
warn-d3-fc: #ffffffe6,
warn-d2-fc: #ffffffe6,
warn-d1-fc: #000000e6,
warn-l1-fc: #000000e6,
warn-l2-fc: #000000e6,
warn-l3-fc: #000000e6,
success-m:  #07c160,
success-d3: #035c2e,
success-d2: #047d3e,
success-d1: #05a04f,
success-l1: #42cf86,
success-l2: #7edeac,
success-l3: #b9edd2,
success-m-fc:   #ffffffe6,
success-d3-fc:  #ffffffe6,
success-d2-fc:  #ffffffe6,
success-d1-fc:  #ffffffe6,
success-l1-fc:  #000000e6,
success-l2-fc:  #000000e6,
success-l3-fc:  #000000e6,
primary-m:  #1485ee,
primary-d3: #093f72,
primary-d2: #0d569a,
primary-d1: #106ec5,
primary-l1: #4ca2f2,
primary-l2: #84bff6,
primary-l3: #bddcfa,
primary-m-fc:   #ffffffe6,
primary-d3-fc:  #ffffffe6,
primary-d2-fc:  #ffffffe6,
primary-d1-fc:  #ffffffe6,
primary-l1-fc:  #000000e6,
primary-l2-fc:  #000000e6,
primary-l3-fc:  #000000e6,
info-m: #888888,
info-d3:    #414141,
info-d2:    #585858,
info-d1:    #707070,
info-l1:    #a4a4a4,
info-l2:    #c1c1c1,
info-l3:    #dddddd,
info-m-fc:  #000000e6,
info-d3-fc: #ffffffe6,
info-d2-fc: #ffffffe6,
info-d1-fc: #ffffffe6,
info-l1-fc: #000000e6,
info-l2-fc: #000000e6,
info-l3-fc: #000000e6,
bz-m:   #ff8600,
bz-d3:  #7a4000,
bz-d2:  #a55700,
bz-d1:  #d36f00,
bz-l1:  #ffa33d,
bz-l2:  #ffc07a,
bz-l3:  #ffddb7,
bz-m-fc:    #000000e6,
bz-d3-fc:   #ffffffe6,
bz-d2-fc:   #ffffffe6,
bz-d1-fc:   #000000e6,
bz-l1-fc:   #000000e6,
bz-l2-fc:   #000000e6,
bz-l3-fc:   #000000e6,
fc-m:   #555555,
fc-d3:  #282828,
fc-d2:  #373737,
fc-d1:  #464646,
fc-l1:  #7d7d7d,
fc-l2:  #a6a6a6,
fc-l3:  #cfcfcf,
fc-m-fc:    #ffffffe6,
fc-d3-fc:   #ffffffe6,
fc-d2-fc:   #ffffffe6,
fc-d1-fc:   #ffffffe6,
fc-l1-fc:   #ffffffe6,
fc-l2-fc:   #000000e6,
fc-l3-fc:   #000000e6,
bgc-m:  #f0f0f0,
bgc-d3: #909090,
bgc-d2: #afafaf,
bgc-d1: #d0d0d0,
bgc-l1: #f4f4f4,
bgc-l2: #fafafa,
bgc-l3: #ffffff,
bgc-m-fc:   #000000e6,
bgc-d3-fc:  #000000e6,
bgc-d2-fc:  #000000e6,
bgc-d1-fc:  #000000e6,
bgc-l1-fc:  #000000e6,
bgc-l2-fc:  #000000e6,
bgc-l3-fc:  #000000e6,
bdc-m:  #dfdfdf,
bdc-d3: #787878,
bdc-d2: #999999,
bdc-d1: #bdbdbd,
bdc-l1: #e5e5e5,
bdc-l2: #ececec,
bdc-l3: #f3f3f3,
bdc-m-fc:   #000000e6,
bdc-d3-fc:  #ffffffe6,
bdc-d2-fc:  #000000e6,
bdc-d1-fc:  #000000e6,
bdc-l1-fc:  #000000e6,
bdc-l2-fc:  #000000e6,
bdc-l3-fc:  #000000e6,
white-m:    #ffffff,
black-m:    #000000,
shadow-m:   #0000004d,
);

:root {
--color-red-m:  #fa5151;
--color-red-d3: #782626;
--color-red-d2: #a23434;
--color-red-d1: #cf4343;
--color-red-l1: #fb7a7a;
--color-red-l2: #fca4a4;
--color-red-l3: #fdcece;
--color-red-m-fc:   #000000e6;
--color-red-d3-fc:  #ffffffe6;
--color-red-d2-fc:  #ffffffe6;
--color-red-d1-fc:  #ffffffe6;
--color-red-l1-fc:  #000000e6;
--color-red-l2-fc:  #000000e6;
--color-red-l3-fc:  #000000e6;
--color-orange-m:   #ff8600;
--color-orange-d3:  #7a4000;
--color-orange-d2:  #a55700;
--color-orange-d1:  #d36f00;
--color-orange-l1:  #ffa33d;
--color-orange-l2:  #ffc07a;
--color-orange-l3:  #ffddb7;
--color-orange-m-fc:    #000000e6;
--color-orange-d3-fc:   #ffffffe6;
--color-orange-d2-fc:   #ffffffe6;
--color-orange-d1-fc:   #000000e6;
--color-orange-l1-fc:   #000000e6;
--color-orange-l2-fc:   #000000e6;
--color-orange-l3-fc:   #000000e6;
--color-yellow-m:   #fa9d3b;
--color-yellow-d3:  #784b1c;
--color-yellow-d2:  #a26626;
--color-yellow-d1:  #cf8230;
--color-yellow-l1:  #fbb46a;
--color-yellow-l2:  #fccc99;
--color-yellow-l3:  #fde3c8;
--color-yellow-m-fc:    #000000e6;
--color-yellow-d3-fc:   #ffffffe6;
--color-yellow-d2-fc:   #ffffffe6;
--color-yellow-d1-fc:   #000000e6;
--color-yellow-l1-fc:   #000000e6;
--color-yellow-l2-fc:   #000000e6;
--color-yellow-l3-fc:   #000000e6;
--color-green-m:    #07c160;
--color-green-d3:   #035c2e;
--color-green-d2:   #047d3e;
--color-green-d1:   #05a04f;
--color-green-l1:   #42cf86;
--color-green-l2:   #7edeac;
--color-green-l3:   #b9edd2;
--color-green-m-fc: #ffffffe6;
--color-green-d3-fc:    #ffffffe6;
--color-green-d2-fc:    #ffffffe6;
--color-green-d1-fc:    #ffffffe6;
--color-green-l1-fc:    #000000e6;
--color-green-l2-fc:    #000000e6;
--color-green-l3-fc:    #000000e6;
--color-cyan-m: #01c4b3;
--color-cyan-d3:    #005e55;
--color-cyan-d2:    #007f74;
--color-cyan-d1:    #00a294;
--color-cyan-l1:    #3dd2c5;
--color-cyan-l2:    #7ae0d7;
--color-cyan-l3:    #b7eee9;
--color-cyan-m-fc:  #000000e6;
--color-cyan-d3-fc: #ffffffe6;
--color-cyan-d2-fc: #ffffffe6;
--color-cyan-d1-fc: #ffffffe6;
--color-cyan-l1-fc: #000000e6;
--color-cyan-l2-fc: #000000e6;
--color-cyan-l3-fc: #000000e6;
--color-blue-m: #1485ee;
--color-blue-d3:    #093f72;
--color-blue-d2:    #0d569a;
--color-blue-d1:    #106ec5;
--color-blue-l1:    #4ca2f2;
--color-blue-l2:    #84bff6;
--color-blue-l3:    #bddcfa;
--color-blue-m-fc:  #ffffffe6;
--color-blue-d3-fc: #ffffffe6;
--color-blue-d2-fc: #ffffffe6;
--color-blue-d1-fc: #ffffffe6;
--color-blue-l1-fc: #000000e6;
--color-blue-l2-fc: #000000e6;
--color-blue-l3-fc: #000000e6;
--color-purple-m:   #ea6e9c;
--color-purple-d3:  #70344a;
--color-purple-d2:  #984765;
--color-purple-d1:  #c25b81;
--color-purple-l1:  #ef90b3;
--color-purple-l2:  #f4b3cb;
--color-purple-l3:  #f9d6e3;
--color-purple-m-fc:    #000000e6;
--color-purple-d3-fc:   #ffffffe6;
--color-purple-d2-fc:   #ffffffe6;
--color-purple-d1-fc:   #ffffffe6;
--color-purple-l1-fc:   #000000e6;
--color-purple-l2-fc:   #000000e6;
--color-purple-l3-fc:   #000000e6;
--color-gray-m: #888888;
--color-gray-d3:    #414141;
--color-gray-d2:    #585858;
--color-gray-d1:    #707070;
--color-gray-l1:    #a4a4a4;
--color-gray-l2:    #c1c1c1;
--color-gray-l3:    #dddddd;
--color-gray-m-fc:  #000000e6;
--color-gray-d3-fc: #ffffffe6;
--color-gray-d2-fc: #ffffffe6;
--color-gray-d1-fc: #ffffffe6;
--color-gray-l1-fc: #000000e6;
--color-gray-l2-fc: #000000e6;
--color-gray-l3-fc: #000000e6;
--color-danger-m:   #fa5151;
--color-danger-d3:  #782626;
--color-danger-d2:  #a23434;
--color-danger-d1:  #cf4343;
--color-danger-l1:  #fb7a7a;
--color-danger-l2:  #fca4a4;
--color-danger-l3:  #fdcece;
--color-danger-m-fc:    #000000e6;
--color-danger-d3-fc:   #ffffffe6;
--color-danger-d2-fc:   #ffffffe6;
--color-danger-d1-fc:   #ffffffe6;
--color-danger-l1-fc:   #000000e6;
--color-danger-l2-fc:   #000000e6;
--color-danger-l3-fc:   #000000e6;
--color-warn-m: #fa9d3b;
--color-warn-d3:    #784b1c;
--color-warn-d2:    #a26626;
--color-warn-d1:    #cf8230;
--color-warn-l1:    #fbb46a;
--color-warn-l2:    #fccc99;
--color-warn-l3:    #fde3c8;
--color-warn-m-fc:  #000000e6;
--color-warn-d3-fc: #ffffffe6;
--color-warn-d2-fc: #ffffffe6;
--color-warn-d1-fc: #000000e6;
--color-warn-l1-fc: #000000e6;
--color-warn-l2-fc: #000000e6;
--color-warn-l3-fc: #000000e6;
--color-success-m:  #07c160;
--color-success-d3: #035c2e;
--color-success-d2: #047d3e;
--color-success-d1: #05a04f;
--color-success-l1: #42cf86;
--color-success-l2: #7edeac;
--color-success-l3: #b9edd2;
--color-success-m-fc:   #ffffffe6;
--color-success-d3-fc:  #ffffffe6;
--color-success-d2-fc:  #ffffffe6;
--color-success-d1-fc:  #ffffffe6;
--color-success-l1-fc:  #000000e6;
--color-success-l2-fc:  #000000e6;
--color-success-l3-fc:  #000000e6;
--color-primary-m:  #1485ee;
--color-primary-d3: #093f72;
--color-primary-d2: #0d569a;
--color-primary-d1: #106ec5;
--color-primary-l1: #4ca2f2;
--color-primary-l2: #84bff6;
--color-primary-l3: #bddcfa;
--color-primary-m-fc:   #ffffffe6;
--color-primary-d3-fc:  #ffffffe6;
--color-primary-d2-fc:  #ffffffe6;
--color-primary-d1-fc:  #ffffffe6;
--color-primary-l1-fc:  #000000e6;
--color-primary-l2-fc:  #000000e6;
--color-primary-l3-fc:  #000000e6;
--color-info-m: #888888;
--color-info-d3:    #414141;
--color-info-d2:    #585858;
--color-info-d1:    #707070;
--color-info-l1:    #a4a4a4;
--color-info-l2:    #c1c1c1;
--color-info-l3:    #dddddd;
--color-info-m-fc:  #000000e6;
--color-info-d3-fc: #ffffffe6;
--color-info-d2-fc: #ffffffe6;
--color-info-d1-fc: #ffffffe6;
--color-info-l1-fc: #000000e6;
--color-info-l2-fc: #000000e6;
--color-info-l3-fc: #000000e6;
--color-bz-m:   #ff8600;
--color-bz-d3:  #7a4000;
--color-bz-d2:  #a55700;
--color-bz-d1:  #d36f00;
--color-bz-l1:  #ffa33d;
--color-bz-l2:  #ffc07a;
--color-bz-l3:  #ffddb7;
--color-bz-m-fc:    #000000e6;
--color-bz-d3-fc:   #ffffffe6;
--color-bz-d2-fc:   #ffffffe6;
--color-bz-d1-fc:   #000000e6;
--color-bz-l1-fc:   #000000e6;
--color-bz-l2-fc:   #000000e6;
--color-bz-l3-fc:   #000000e6;
--color-fc-m:   #555555;
--color-fc-d3:  #282828;
--color-fc-d2:  #373737;
--color-fc-d1:  #464646;
--color-fc-l1:  #7d7d7d;
--color-fc-l2:  #a6a6a6;
--color-fc-l3:  #cfcfcf;
--color-fc-m-fc:    #ffffffe6;
--color-fc-d3-fc:   #ffffffe6;
--color-fc-d2-fc:   #ffffffe6;
--color-fc-d1-fc:   #ffffffe6;
--color-fc-l1-fc:   #ffffffe6;
--color-fc-l2-fc:   #000000e6;
--color-fc-l3-fc:   #000000e6;
--color-bgc-m:  #f0f0f0;
--color-bgc-d3: #909090;
--color-bgc-d2: #afafaf;
--color-bgc-d1: #d0d0d0;
--color-bgc-l1: #f4f4f4;
--color-bgc-l2: #fafafa;
--color-bgc-l3: #ffffff;
--color-bgc-m-fc:   #000000e6;
--color-bgc-d3-fc:  #000000e6;
--color-bgc-d2-fc:  #000000e6;
--color-bgc-d1-fc:  #000000e6;
--color-bgc-l1-fc:  #000000e6;
--color-bgc-l2-fc:  #000000e6;
--color-bgc-l3-fc:  #000000e6;
--color-bdc-m:  #dfdfdf;
--color-bdc-d3: #787878;
--color-bdc-d2: #999999;
--color-bdc-d1: #bdbdbd;
--color-bdc-l1: #e5e5e5;
--color-bdc-l2: #ececec;
--color-bdc-l3: #f3f3f3;
--color-bdc-m-fc:   #000000e6;
--color-bdc-d3-fc:  #ffffffe6;
--color-bdc-d2-fc:  #000000e6;
--color-bdc-d1-fc:  #000000e6;
--color-bdc-l1-fc:  #000000e6;
--color-bdc-l2-fc:  #000000e6;
--color-bdc-l3-fc:  #000000e6;
--color-white-m:    #ffffff;
--color-black-m:    #000000;
--color-shadow-m:   #0000004d;
}


/**
 * 主题模块 size 生成语句
 * 不要手动修改
 */

$sizeShiftQueue:    xxxxs,xxxs,xxs,xs,s,m,l,xl,xxl,xxxl,xxxxl;

$size-fs-m: 14px;
$size-fs-l: 16px;
$size-fs-s: 12px;
$size-fs-xl:    18px;
$size-fs-xs:    10px;
$size-fs-xxl:   22px;
$size-fs-xxs:   10px;
$size-fs-xxxl:  26px;
$size-fs-xxxs:  9px;
$size-fs-xxxxl: 32px;
$size-fs-xxxxs: 8px;
$size-fw-m: 400;
$size-fw-l: 500;
$size-fw-s: 300;
$size-fw-xl:    700;
$size-fw-xs:    200;
$size-fw-xxl:   900;
$size-fw-xxs:   100;
$size-mg-m: 14px;
$size-mg-l: 16px;
$size-mg-s: 12px;
$size-mg-xl:    20px;
$size-mg-xs:    10px;
$size-mg-xxl:   24px;
$size-mg-xxs:   8px;
$size-pd-m: 14px;
$size-pd-l: 16px;
$size-pd-s: 12px;
$size-pd-xl:    20px;
$size-pd-xs:    10px;
$size-pd-xxl:   24px;
$size-pd-xxs:   8px;
$size-rd-m: 8px;
$size-rd-l: 10px;
$size-rd-s: 6px;
$size-rd-xl:    12px;
$size-rd-xs:    4px;
$size-rd-xxl:   14px;
$size-rd-xxs:   2px;
$size-bar-m:    36px;
$size-bar-l:    40px;
$size-bar-s:    32px;
$size-bar-xl:   44px;
$size-bar-xs:   28px;
$size-bar-xxl:  48px;
$size-bar-xxs:  24px;
$size-icon-m:   24px;
$size-icon-l:   28px;
$size-icon-s:   20px;
$size-icon-xl:  32px;
$size-icon-xs:  16px;
$size-icon-xxl: 36px;
$size-icon-xxs: 12px;
$size-btn-m:    32px;
$size-btn-l:    36px;
$size-btn-s:    28px;
$size-btn-xl:   42px;
$size-btn-xs:   24px;
$size-btn-xxl:  48px;
$size-btn-xxs:  20px;
$size-btn-fs-m: 14px;
$size-btn-fs-l: 16px;
$size-btn-fs-s: 12px;
$size-btn-fs-xl:    18px;
$size-btn-fs-xs:    10px;
$size-btn-fs-xxl:   20px;
$size-btn-fs-xxs:   10px;
$size-btn-pd-m: 14px;
$size-btn-pd-l: 16px;
$size-btn-pd-s: 12px;
$size-btn-pd-xl:    20px;
$size-btn-pd-xs:    10px;
$size-btn-pd-xxl:   24px;
$size-btn-pd-xxs:   8px;
$size-btn-rd-m: 8px;
$size-btn-rd-l: 9px;
$size-btn-rd-s: 7px;
$size-btn-rd-xl:    10px;
$size-btn-rd-xs:    6px;
$size-btn-rd-xxl:   12px;
$size-btn-rd-xxs:   5px;
$size-shadow-m: 8px;
$size-shadow-l: 10px;
$size-shadow-s: 6px;
$size-shadow-xl:    12px;
$size-shadow-xs:    4px;
$size-shadow-xxl:   14px;
$size-shadow-xxs:   2px;
$size-bd-m: 1px;
$size-blur-m:   8px;

$sizeMap: (
fs-m:   14px,
fs-l:   16px,
fs-s:   12px,
fs-xl:  18px,
fs-xs:  10px,
fs-xxl: 22px,
fs-xxs: 10px,
fs-xxxl:    26px,
fs-xxxs:    9px,
fs-xxxxl:   32px,
fs-xxxxs:   8px,
fw-m:   400,
fw-l:   500,
fw-s:   300,
fw-xl:  700,
fw-xs:  200,
fw-xxl: 900,
fw-xxs: 100,
mg-m:   14px,
mg-l:   16px,
mg-s:   12px,
mg-xl:  20px,
mg-xs:  10px,
mg-xxl: 24px,
mg-xxs: 8px,
pd-m:   14px,
pd-l:   16px,
pd-s:   12px,
pd-xl:  20px,
pd-xs:  10px,
pd-xxl: 24px,
pd-xxs: 8px,
rd-m:   8px,
rd-l:   10px,
rd-s:   6px,
rd-xl:  12px,
rd-xs:  4px,
rd-xxl: 14px,
rd-xxs: 2px,
bar-m:  36px,
bar-l:  40px,
bar-s:  32px,
bar-xl: 44px,
bar-xs: 28px,
bar-xxl:    48px,
bar-xxs:    24px,
icon-m: 24px,
icon-l: 28px,
icon-s: 20px,
icon-xl:    32px,
icon-xs:    16px,
icon-xxl:   36px,
icon-xxs:   12px,
btn-m:  32px,
btn-l:  36px,
btn-s:  28px,
btn-xl: 42px,
btn-xs: 24px,
btn-xxl:    48px,
btn-xxs:    20px,
btn-fs-m:   14px,
btn-fs-l:   16px,
btn-fs-s:   12px,
btn-fs-xl:  18px,
btn-fs-xs:  10px,
btn-fs-xxl: 20px,
btn-fs-xxs: 10px,
btn-pd-m:   14px,
btn-pd-l:   16px,
btn-pd-s:   12px,
btn-pd-xl:  20px,
btn-pd-xs:  10px,
btn-pd-xxl: 24px,
btn-pd-xxs: 8px,
btn-rd-m:   8px,
btn-rd-l:   9px,
btn-rd-s:   7px,
btn-rd-xl:  10px,
btn-rd-xs:  6px,
btn-rd-xxl: 12px,
btn-rd-xxs: 5px,
shadow-m:   8px,
shadow-l:   10px,
shadow-s:   6px,
shadow-xl:  12px,
shadow-xs:  4px,
shadow-xxl: 14px,
shadow-xxs: 2px,
bd-m:   1px,
blur-m: 8px,
);

$sizeStrQueue:  huge,large,medium,normal,small,mini,tiny;
$sizeStrMap: (
huge:   'xxl',
large:  'xl',
medium: 'l',
normal: 'm',
small:  's',
mini:   'xs',
tiny:   'xxs',
);

$extraIconSizeQueue:    48,54,64,72,88,96,128;
$extraBtnSizeQueue: 54,64,72,88,96,128;

$shapeList: normal,pill,sharp;
$stretchList:   square,normal,row;
$tightnessList: loose,normal,tight;

:root {
--size-fs-m:    14px;
--size-fs-l:    16px;
--size-fs-s:    12px;
--size-fs-xl:   18px;
--size-fs-xs:   10px;
--size-fs-xxl:  22px;
--size-fs-xxs:  10px;
--size-fs-xxxl: 26px;
--size-fs-xxxs: 9px;
--size-fs-xxxxl:    32px;
--size-fs-xxxxs:    8px;
--size-fw-m:    400;
--size-fw-l:    500;
--size-fw-s:    300;
--size-fw-xl:   700;
--size-fw-xs:   200;
--size-fw-xxl:  900;
--size-fw-xxs:  100;
--size-mg-m:    14px;
--size-mg-l:    16px;
--size-mg-s:    12px;
--size-mg-xl:   20px;
--size-mg-xs:   10px;
--size-mg-xxl:  24px;
--size-mg-xxs:  8px;
--size-pd-m:    14px;
--size-pd-l:    16px;
--size-pd-s:    12px;
--size-pd-xl:   20px;
--size-pd-xs:   10px;
--size-pd-xxl:  24px;
--size-pd-xxs:  8px;
--size-rd-m:    8px;
--size-rd-l:    10px;
--size-rd-s:    6px;
--size-rd-xl:   12px;
--size-rd-xs:   4px;
--size-rd-xxl:  14px;
--size-rd-xxs:  2px;
--size-bar-m:   36px;
--size-bar-l:   40px;
--size-bar-s:   32px;
--size-bar-xl:  44px;
--size-bar-xs:  28px;
--size-bar-xxl: 48px;
--size-bar-xxs: 24px;
--size-icon-m:  24px;
--size-icon-l:  28px;
--size-icon-s:  20px;
--size-icon-xl: 32px;
--size-icon-xs: 16px;
--size-icon-xxl:    36px;
--size-icon-xxs:    12px;
--size-btn-m:   32px;
--size-btn-l:   36px;
--size-btn-s:   28px;
--size-btn-xl:  42px;
--size-btn-xs:  24px;
--size-btn-xxl: 48px;
--size-btn-xxs: 20px;
--size-btn-fs-m:    14px;
--size-btn-fs-l:    16px;
--size-btn-fs-s:    12px;
--size-btn-fs-xl:   18px;
--size-btn-fs-xs:   10px;
--size-btn-fs-xxl:  20px;
--size-btn-fs-xxs:  10px;
--size-btn-pd-m:    14px;
--size-btn-pd-l:    16px;
--size-btn-pd-s:    12px;
--size-btn-pd-xl:   20px;
--size-btn-pd-xs:   10px;
--size-btn-pd-xxl:  24px;
--size-btn-pd-xxs:  8px;
--size-btn-rd-m:    8px;
--size-btn-rd-l:    9px;
--size-btn-rd-s:    7px;
--size-btn-rd-xl:   10px;
--size-btn-rd-xs:   6px;
--size-btn-rd-xxl:  12px;
--size-btn-rd-xxs:  5px;
--size-shadow-m:    8px;
--size-shadow-l:    10px;
--size-shadow-s:    6px;
--size-shadow-xl:   12px;
--size-shadow-xs:   4px;
--size-shadow-xxl:  14px;
--size-shadow-xxs:  2px;
--size-bd-m:    1px;
--size-blur-m:  8px;
}


/**
 * 主题模块 vars 生成语句
 * 不要手动修改
 */

$font-fml-default:  -apple-system,BlinkMacSystemFont,'Segoe UI','PingFang SC','Microsoft Yahei',Helvetica,Arial,sans-serif,'Apple Color Emoji','Segoe UI Emoji';
$font-fml-code: 'Cascadia Code', 'Consolas', 'Courier New', 'Pingfang SC', 'Microsoft Yahei', monospace;
$font-fml-fangsong: 'Times New Roman', '仿宋';
$font-fml-yahei:    '微软雅黑', 'Microsoft Yahei';
$font-fml-songti:   'Times New Roman', '宋体';
$ani-dura:  0.3s;

$varsMap: (
font-fml-default:   "-apple-system,BlinkMacSystemFont,'Segoe UI','PingFang SC','Microsoft Yahei',Helvetica,Arial,sans-serif,'Apple Color Emoji','Segoe UI Emoji'",
font-fml-code:  "'Cascadia Code', 'Consolas', 'Courier New', 'Pingfang SC', 'Microsoft Yahei', monospace",
font-fml-fangsong:  "'Times New Roman', '仿宋'",
font-fml-yahei: "'微软雅黑', 'Microsoft Yahei'",
font-fml-songti:    "'Times New Roman', '宋体'",
ani-dura:   0.3s,
);


:root {
--font-fml-default: -apple-system,BlinkMacSystemFont,'Segoe UI','PingFang SC','Microsoft Yahei',Helvetica,Arial,sans-serif,'Apple Color Emoji','Segoe UI Emoji';
--font-fml-code:    'Cascadia Code', 'Consolas', 'Courier New', 'Pingfang SC', 'Microsoft Yahei', monospace;
--font-fml-fangsong:    'Times New Roman', '仿宋';
--font-fml-yahei:   '微软雅黑', 'Microsoft Yahei';
--font-fml-songti:  'Times New Roman', '宋体';
--ani-dura: 0.3s;
}





/**
 * 合并资源 base.scss
 * !! 不要手动修改 !!
 */

/**
 * SPF-Theme 主题系统配套 scss
 * 此 SCSS 不处理 import 如需引入外部样式，应在 *.theme.json 中指定 styles.import 参数
 * !! 不要手动修改 !!
 * 
 * SPF-Theme 主题系统变量：
 *      $colorListAll                       全部颜色名称 list：red,orange,yellow,...,fc,bgc,bdc,...,primary,...
 *      $colorListBase|Static|Custom...     不同类型的 颜色名称 list
 *      $colorShiftQueue                    d3,d2,d1,m,l1,l2,l3
 *      $colorMap                           包含所有颜色定义的 map
 *      $typeList                           primary,danger,warn,success,info
 *      $effectList                         normal,fill,plain,popout
 *      $sizeMap                            包含所有尺寸定义的 map
 *      $sizeShiftQueue                     xxs,xs,s,m,l,xl,xxl
 *      $sizeStrQueue                       huge,large,medium,normal,small,mini,tiny
 *      $sizeStrMap                         尺寸字符串 与 m|xl 映射 map
 *      $extra[Icon|Btn]SizeQueue           icon|btn 额外的尺寸序列 48,54,64,...,128
 *      $shapeList                          normal,pill,sharp
 *      $stretchList                        square,normal,row
 *      $tightnessList                      loose,normal,tight
 *      $varsMap                            保存所有其他 css 变量的 map
 */

/**
 * !! 检查是否存在 dart-scss-patch 文件内容
 */
$is-patched: variable-exists(dartScssTypeList);


/** SPF-Theme 主题变量 **/
//status 状态可选列表
$spfStatusList: normal,hover,active;

/** SPF-Theme 主题变量计算函数 **/
//根据单行元素的 height 计算 padding|radius|font-size  <返回：map>
@function spf-bar-calc($size: bar-m) {
    $rtn: (
        sz: null,
        pd: null,
        rd: null,
        fs: null
    );
    $sz: size-get($size);
    @if not is-number($sz) {@return $rtn;}
    $rtn: map.set($rtn, sz, $sz);
    $rtn: map.set($rtn, pd, round(div($sz, 2)));
    $rtn: map.set($rtn, rd, round(div($sz, 5)));
    $rtn: map.set($rtn, fs, round(div($sz, 2)));
    @return $rtn;
}


/** 通用样式注入 mixins **/

/** 基础样式注入 position|width|padding|overflow ... **/
@mixin spf-po($po: relative, $w: 100%, $h: unset, $mg: 0, $pd: 0, $t: unset, $r: unset, $b: unset, $l: unset, $ov: unset) {
    position: $po;
    @if $w != unset { width: size-get($w); }
    @if $h != unset { height: size-get($h); }
    @if $mg != unset { margin: size-get($mg); }
    @if $pd != unset { padding: size-get($pd); }
    @if $l != unset { left: size-get($l); }
    @if $r != unset { right: size-get($r); }
    @if $t != unset { top: size-get($t); }
    @if $b != unset { bottom: size-get($b); }
    @if $ov != unset { overflow: $ov; }
    box-sizing: border-box;
}
@mixin spf-po-ov($po: relative, $w: 100%, $h: unset, $mg: 0, $pd: 0, $t: unset, $r: unset, $b: unset, $l: unset, $ov: hidden) {
    @include spf-po($po, $w, $h, $mg, $pd, $t, $r, $b, $l, $ov);
}
@mixin spf-po-abs($w: 100%, $h: unset, $mg: 0, $pd: 0, $t: 0, $r: unset, $b: unset, $l: 0, $ov: hidden) {
    @include spf-po(absolute, $w, $h, $mg, $pd, $t, $r, $b, $l, $ov);
}
@mixin spf-po-fix($w: 100%, $h: unset, $mg: 0, $pd: 0, $t: 0, $r: unset, $b: unset, $l: 0, $ov: hidden) {
    @include spf-po(fixed, $w, $h, $mg, $pd, $t, $r, $b, $l, $ov);
}
/** 基础样式注入 根据输入的 trbl 设置不同 position 位置的 padding/margin/border-width size **/
/** $p 可选值：$trblQueue **/
@mixin spf-size-po(
    $size:      unset,              //要设置的尺寸 
    $p:         '',                 //要设置尺寸值的 position 位置，可选值：$trblQueue，默认不指定，表示所有位置
    $prop:      padding,            //要设置尺寸值的 css 属性，默认 padding，可选 padding/margin/border-width
    $important: false               //是否增加 important
) {
    @if $p != '' {
        $pa: trbl($p);
        @if is-list($pa) {
            @each $pi in $pa {
                $pk: #{$prop}-#{$pi};
                @if $prop == border-width {
                    $pk: border-#{$pi}-width;
                }
                @if $important == true {
                    #{$pk}: $size !important;
                } @else {
                    #{$pk}: $size;
                }
            }
        }
    } @else {
        @if $important == true {
            #{$pk}: $size !important;
        } @else {
            #{$pk}: $size;
        }
    }
}
/** 基础样式注入 根据输入的 corner 设置不同位置的 radius size **/
/** $r 可选值：$cornerQueue **/
@mixin spf-size-rd(
    $size:      unset,              //要设置的尺寸 
    $r:         '',                 //要设置尺寸值的 corner 位置，可选值：$cornerQueue，默认不指定，表示所有位置
    $important: false               //是否增加 important
) {
    @if $r != '' {
        $ra: corner($r);
        @if is-list($ra) {
            @each $ri in $ra {
                $prop: border-#{$ri}-radius;
                @if $important == true {
                    #{$prop}: $size !important;
                } @else {
                    #{$prop}: $size;
                }
            }
        }
    } @else {
        @if $important == true {
            border-radius: $size !important;
        } @else {
            border-radius: $size;
        }
    }
}
/** 基础样式注入 flex 布局 **/
@mixin spf-flex($dir: row, $x: flex-start, $y: center, $gap: unset, $inner: true) {
    display: flex; flex-direction: $dir;
    @if $dir == row {
        align-items: $y; justify-content: $x;
    } @else {
        align-items: $x; justify-content: $y;
    }

    //自动生成内部子样式类
    @if $inner == true {
        @for $i from 1 through 8 {
            &>.flex-#{$i} {
                $wh: if($dir == column, height, width);
                #{$wh}: unset;
                flex: $i;
            }
        }
    
        &.flex-no-shrink {
            &>*, &>view {
                flex-shrink: 0;
            }
        }
    
        &.flex-with-gap {
            $gap-side: if($dir == column, top, left);
            @if $gap != unset {
                $gap: size-get($gap);
                @if is-number($gap) {
                    &>*, &>view {
                        &:not(:first-child) {
                            margin-#{$gap-side}: $gap;
                        }
                    }
                }
            }
            @each $qi in $sizeShiftQueue {
                $gapi: size-get(mg-#{$qi});
                @if is-number($gapi) {
                    &.flex-gap-#{$qi} {
                        &>*, &>view {
                            &:not(:first-child) {
                                margin-#{$gap-side}: $gapi;
                            }
                        }
                    }
                }
            }
        }
    
        &.flex-center {justify-content: center; align-items: center;}
        &.flex-start {justify-content: flex-start; align-items: flex-start;}
        &.flex-end {justify-content: flex-end; align-items: flex-end;}
        &.flex-stretch {justify-content: stretch; align-items: stretch;}
    
        &[class*=flex-x-] {
            $prop: if($dir == column, align-items, justify-content);
            &[class*=x-center] {#{$prop}: center;}
            &[class*=x-start] {#{$prop}: flex-start;}
            &[class*=x-end] {#{$prop}: flex-end;}
            &[class*=x-stretch] {#{$prop}: stretch;}
        }
        &[class*=flex-y-] {
            $prop: if($dir == row, align-items, justify-content);
            &[class*=y-center] {#{$prop}: center;}
            &[class*=y-start] {#{$prop}: flex-start;}
            &[class*=y-end] {#{$prop}: flex-end;}
            &[class*=y-stretch] {#{$prop}: stretch;}
        }
    }
}
@mixin spf-flex-x($x: flex-start, $y: center, $gap: unset) {
    @include spf-flex(row, $x, $y, $gap, true);
}
@mixin spf-flex-y($x: flex-start, $y: flex-start, $gap: unset) {
    @include spf-flex(column, $x, $y, $gap, true);
}
@mixin spf-flex-x-noinner($x: flex-start, $y: center, $gap: unset) {
    @include spf-flex(row, $x, $y, $gap, false);
}
@mixin spf-flex-y-noinner($x: flex-start, $y: flex-start, $gap: unset) {
    @include spf-flex(column, $x, $y, $gap, false);
}
/** 基础样式注入 链接样式 **/
@mixin spf-a($base: primary, $important: false) {
    text-decoration: underline;
    text-underline-offset: 0.3em;
    transition: color $ani-dura,
                text-underline-offset .1s;

    &:hover {
        text-underline-offset: 0.2em;
    }

    $bk: #{$base}-m;
    $bc: color-get($bk);
    $hc: color-get(color-key-shift($bk, l1));
    $ac: color-get(color-key-shift($bk, d1));
    @if is-color($bc, $hc, $ac) {
        @if $important == true {
            color: $bc !important;
            &:hover {
                color: $hc !important;
            }
            &:visited, &[class*=active] {
                color: $ac !important;
            }
        } @else {
            color: $bc;
            &:hover {
                color: $hc;
            }
            &:visited, &[class*=active] {
                color: $ac;
            }
        }
    }
}
/** 基础样式注入 text-ellipsis 样式 **/
@mixin spf-text-ellipsis() {
    white-space: nowrap;
    text-overflow: ellipsis;
    overflow: hidden;
}
/** 基础样式注入 模拟移动端滚动条效果 **/
@mixin spf-scroll(
    $size:      6px,            //滚动条宽度
    $fc:        bdc-d1,         //滚动条背景色，传入可通过 color-get 方法获取色值的 颜色键名|transparent
    $fc-hover:  bdc-d2,         //滚动条悬停背景色，传入可通过 color-get 方法获取色值的 颜色键名|transparent
    $bgc:       transparent,    //滚动轨道背景色，传入可通过 color-get 方法获取色值的 颜色键名|transparent
    $ov:        hidden auto,    //垂直|水平 滚动条显示
    $round:     false,          //滚动条是否圆角
    $behavior:  smooth
) {
    $fcv: color-get($fc);
    $fchv: color-get($fc-hover);
    $bgcv: color-get($bgc);

    overflow: $ov;
    scroll-behavior: $behavior;
    /* 滚动条占位宽度 = 0，内容区域 100 % */
    scrollbar-gutter: stable;

    &::-webkit-scrollbar {
        width: $size; 
        height: $size;
    }
    &::-webkit-scrollbar-track {background-color: $bgcv;}
    &::-webkit-scrollbar-thumb  {
        background-color: $fcv;
        cursor: ns-resize;
        transition: all .3s;

        @if $round == true {
            border-radius: $size / 2;
        }

        &:hover {background-color: $fchv;}
    }
    &::-webkit-scrollbar:horizontal {
        cursor: ew-resize;
    }

    /* iOS 惯性回弹必备 */
    //-webkit-overflow-scrolling: touch;
    /* 可选：隐藏系统默认箭头按钮 */
    //scrollbar-width: none;   /* Firefox 直接变窄，不占位 */
}
/** 复合样式注入 向 当前类|后代类 注入 effect 效果样式 **/
@mixin spf-effect(
    $target:    self,               //此 effect 样式应用到 self(当前引用的类) 或 child(当前引用类的后代类)，默认 self
    $pre:       btn-,               //将生成 pre-effect-normal|fill|plain|popout 系列样式类
    $base:      null,               //effect 样式的基础颜色键名 例如：red|primary
) {
    //当前类|后代类 的 类名前缀
    $epre: if($target == self, unquote("&.#{$pre}"), unquote("& .#{$pre}"));

    //根据 base 基础颜色 以及 effect 类型，确定 bgk|fk|bdk 
    $normal-ks: null;
    $fill-ks:   null;
    $plain-ks:  null;
    $popout-ks: null;
    @if not is-nemstr($base) or is-null(color-get(#{$base}-m)) {
        //未指定 base 基础颜色键名  使用默认颜色
        $normal-ks: (   bgk: bgc-m,     fk: fc-m,   bdk: bdc-m  );
        $fill-ks:   (   bgk: gray-m,    fk: unset,  bdk: unset  );
        $plain-ks:  (   bgk: white-m,   fk: fc-m,   bdk: bdc-m  );
        $popout-ks: (   bgk: transparent,   fk: fc-m,   bdk: unset  );
    } @else {
        $bk: #{$base}-m;
        $normal-ks: (   bgk: #{$base}-l2,   fk: unset,  bdk: #{$base}-l1    );
        $fill-ks:   (   bgk: $bk,           fk: unset,  bdk: unset  );
        $plain-ks:  (   bgk: white-m,       fk: $bk,    bdk: $bk    );
        $popout-ks: (   bgk: transparent,   fk: $bk,    bdk: unset  );
    }
    //构建 不同 effect 类型下的 颜色键名 map
    $ks: (
        normal: $normal-ks,
        fill:   $fill-ks,
        plain:  $plain-ks,
        popout: $popout-ks,
    );

    //当前 base 颜色下的 默认样式，与 effect-normal 样式一致
    @if $target == self {
        $nksmap: map.get($ks, normal);
        @if is-map($ksmap) and not is-empty($ksmap) {
            $bgk:   map.get($nksmap, bgk);
            $fk:    map.get($nksmap, fk);
            $bdk:   map.get($nksmap, bdk);
            //status == normal
            @include spf-set-effect-with-status(normal, $bgk, $fk, $bdk);
            //status == hover
            &.#{$pre}hoverable:hover {
                @include spf-set-effect-with-status(hover, $bgk, $fk, $bdk);
            }
            //status == active
            &.#{$pre}active {
                @include spf-set-effect-with-status(active, $bgk, $fk, $bdk);
                //覆盖 hover 样式，防止 active 状态下还有 hover 翻转效果
                &.#{$pre}hoverable:hover {
                    @include spf-set-effect-with-status(active, $bgk, $fk, $bdk);
                }
            }
            //disabled 情况下的 status
            &.#{$pre}disabled {
                opacity: 0.6 !important;
                //status == normal
                @include spf-set-effect-with-status(normal, $bgk, $fk, $bdk);
                //status == hover 覆盖 hover 效果
                &.#{$pre}hoverable:hover {
                    @include spf-set-effect-with-status(normal, $bgk, $fk, $bdk);
                }
                //status == active
                &.#{$pre}active {
                    @include spf-set-effect-with-status(active, $bgk, $fk, $bdk);
                    //覆盖 hover 样式，防止 active 状态下还有 hover 翻转效果
                    &.#{$pre}hoverable:hover {
                        @include spf-set-effect-with-status(active, $bgk, $fk, $bdk);
                    }
                }
            }
        }
    }

    //effect 循环
    @each $efi in $effectList {
        $ksmap: map.get($ks, $efi);
        @if is-map($ksmap) and not is-empty($ksmap) {
            $bgk:   map.get($ksmap, bgk);
            $fk:    map.get($ksmap, fk);
            $bdk:   map.get($ksmap, bdk);
            #{$epre}effect-#{$efi} {
                //status == normal
                @include spf-set-effect-with-status(normal, $bgk, $fk, $bdk);
                //status == hover
                &.#{$pre}hoverable:hover {
                    @include spf-set-effect-with-status(hover, $bgk, $fk, $bdk);
                }
                //status == active
                &.#{$pre}active {
                    @include spf-set-effect-with-status(active, $bgk, $fk, $bdk);
                    //覆盖 hover 样式，防止 active 状态下还有 hover 翻转效果
                    &.#{$pre}hoverable:hover {
                        @include spf-set-effect-with-status(active, $bgk, $fk, $bdk);
                    }
                }
                //disabled 情况下的 status
                &.#{$pre}disabled {
                    opacity: 0.6 !important;
                    //status == normal
                    @include spf-set-effect-with-status(normal, $bgk, $fk, $bdk);
                    //status == hover 覆盖 hover 效果
                    &.#{$pre}hoverable:hover {
                        @include spf-set-effect-with-status(normal, $bgk, $fk, $bdk);
                    }
                    //status == active
                    &.#{$pre}active {
                        @include spf-set-effect-with-status(active, $bgk, $fk, $bdk);
                        //覆盖 hover 样式，防止 active 状态下还有 hover 翻转效果
                        &.#{$pre}hoverable:hover {
                            @include spf-set-effect-with-status(active, $bgk, $fk, $bdk);
                        }
                    }
                }
            }
        }
    }
}
/** 复合样式注入 根据 status 状态注入 effect 样式的实际 background-color|border-color|color 样式值 **/
@mixin spf-set-effect-with-status(
    $status:    normal,             //状态值 可选：normal|hover|active
    $bgk:       unset,              //背景色 实际样式值  string 类型颜色键名 | unset
    $fk:        unset,              //前景色 实际样式值  string 类型颜色键名 | unset
    $bdk:       unset               //边框色 实际样式值  string 类型颜色键名 | unset
) {
    @if not is-nemstr($status) or not has($spfStatusList, $status, true) {
        $status: normal;
    }
    
    @if $status == normal {
        //normal 状态
        @include spf-set-effect($bgk, $fk, $bdk);
    } @else if $status == hover {
        //hover 状态，所有颜色减淡一级
        $h-bgk: unset;
        $h-fk:  unset;
        $h-bdk: unset;
        @if $bgk == transparent {
            //背景为 transparent 只有在 popout effect 情况下出现
            @if $fk == unset {
                $h-bgk: fc-m;
            } @else {
                $h-bgk: $fk;
            }
        } @else {
            //正常的背景翻转，前景跟随
            @if $bgk != unset {$h-bgk: color-key-shift($bgk, l1);}
            @if $fk  != unset {$h-fk: color-key-shift($fk, l1);}
        }
        @if $bdk != unset {$h-bdk: color-key-shift($bdk, l1);}
        @if not is-nemstr($h-bgk) {$h-bgk: unset;}
        @if not is-nemstr($h-fk) {$h-fk: unset;}
        @if not is-nemstr($h-bdk) {$h-bdk: unset;}
        @include spf-set-effect($h-bgk, $h-fk, $h-bdk);
    } @else if $status == active {
        //active 选中状态，所有颜色加深一级
        $a-bgk: unset;
        $a-fk:  unset;
        $a-bdk: unset;
        @if $bgk == transparent {
            //背景为 transparent 只有在 popout effect 情况下出现
            @if $fk == unset {
                $a-bgk: fc-d1;
            } @else {
                $a-bgk: color-key-shift($fk, d1);
            }
        } @else {
            //正常的背景翻转，前景跟随
            @if $bgk != unset {$a-bgk: color-key-shift($bgk, d1);}
            @if $fk  != unset {$a-fk: color-key-shift($fk, d1);}
        }
        @if $bdk != unset {$a-bdk: color-key-shift($bdk, d1);}
        @if not is-nemstr($a-bgk) {$a-bgk: unset;}
        @if not is-nemstr($a-fk) {$a-fk: unset;}
        @if not is-nemstr($a-bdk) {$a-bdk: unset;}
        @include spf-set-effect($a-bgk, $a-fk, $a-bdk);
    }
}
/** 复合样式注入 注入 effect 样式的实际 background-color|border-color|color 样式值 **/
@mixin spf-set-effect(
    $bgk:       unset,              //背景色 实际样式值  string 类型颜色键名 | unset
    $fk:        unset,              //前景色 实际样式值  string 类型颜色键名 | unset
    $bdk:       unset,              //边框色 实际样式值  string 类型颜色键名 | unset
) {
    $bgc: null;
    $fc: null;
    $bdc: null;
    //background-color
    @if $bgk != unset {
        $tc: color-get($bgk);
        @if is-color($tc) {$bgc: $tc;}
    }
    //color
    @if $fk == unset {
        $tc: null;
        @if is-color($bgc) and $bgc != transparent {
            $tc: fore-color($bgc);
        } @else {
            $tc: color-get(fc-m);
        }
        @if is-color($tc) {$fc: $tc;}
    } @else {
        $tc: color-get($fk);
        @if is-color($tc) {$fc: $tc;}
    }
    //border-color
    @if $bdk != unset {
        $tc: color-get($bdk);
        @if is-color($tc) {$bdc: $tc;}
    }
    //设置样式
    @if is-color($bgc) {background-color: $bgc;}
    @if is-color($fc) {color: $fc;}
    @if is-color($bdc) {
        border: {
            style: solid;
            width: $size-bd-m;
            color: $bdc;
        }
    } @else {
        border: {
            style: solid;
            width: 0;
            color: transparent;
        }
    }
}
/** 复合样式注入 向 当前类|后代类 注入 单行元素的 size 相关样式 **/
@mixin spf-bar-size(
    $target:    self,               //此 size 样式应用到 self(当前引用的类) 或 child(当前引用类的后代类)，默认 self
    $pre:       btn-,               //将生成 pre-shape-normal|pill|sharp 系列样式类
    $skey:      btn-m,              //单行元素的 height 尺寸值在 sizeMap 中的键名 | number 尺寸值
    $shape:     false,              //是否生成 shape 系列样式
    $stretch:   false,              //是否生成 stretch 系列样式
    $tightness: false,              //是否生成 tightness 系列样式
) {
    //当前类|后代类 的 类名前缀
    $spre: if($target == self, unquote("&.#{$pre}"), unquote("& .#{$pre}"));
    //获取当前指定的实际尺寸值 number
    $size: size-get($skey);
    @if is-number($size) {
        //自动计算相关样式值
        $szmap: spf-bar-calc($size);
        $sz: map.get($szmap, sz);
        $pd: map.get($szmap, pd);
        $rd: map.get($szmap, rd);
        $fs: map.get($szmap, fs);
        @if is-number($sz, $pd, $rd, $fs) {
            //为当前类注入样式
            @if $target == self {
                height: $sz;
                padding: 0 $pd;
                font-size: $fs;
                &>*:not(:first-child) {
                    margin-left: $pd;
                    margin-right: 0;
                }
                //shape 默认
                @if $shape == true {
                    border-radius: $rd;
                }
                //stretch 默认
                @if $stretch == true {
                    min-width: $sz;
                    width: unset;
                }
                //tightness 默认
                @if $tightness == true {

                }
            }
            //shape
            @if $shape == true {
                //构建当前 size 下的 border-radius 样式值
                $rds: (
                    normal: $rd,
                    pill:   round(div($sz, 2)),
                    sharp:  0,
                );
                //循环 shapeList
                @each $spi in $shapeList {
                    $rdi: map.get($rds, $spi);
                    @if is-number($rdi) {
                        #{$spre}shape-#{$spi} {
                            border-radius: $rdi;
                        }
                    }
                }
            }
            //stretch
            @if $stretch == true {
                //stretch == normal
                #{$spre}stretch-normal {
                    min-width: $sz;
                    width: unset;
                }
                //stretch == square
                #{$spre}stretch-square {
                    width: $sz;
                }
                //stretch == row
                #{$spre}stretch-row {
                    width: unset;
                    flex: 1;
                }
            }
            //tightness
            @if $tightness == true {
                //构建 tightness 与 padding值的 map 映射
                $pds: (
                    loose: round(mul($pd, 2)),
                    normal: $pd,
                    tight: round(div($pd, 2)),
                );
                //tightness 循环
                @each $ti in $tightnessList {
                    $pdv: map.get($pds, $ti);
                    @if is-number($pdv) {
                        #{$spre}tightness-#{$ti} {
                            //单行元素
                            padding: 0 $pdv;
                            //flex-x 内部元素
                            &>*:not(:first-child) {
                                margin-left: $pdv;
                                margin-right: 0;
                            }
                        }
                    }
                }
            }
        }
    }
}



/** 批量注入样式 **/

/** 根据 $list 颜色名称数组，为 当前类 或 后代类 指定颜色样式
    例如：
    .foo {
        @include spf-color-shift(
            $pre:       bg-,
            $target:    child,
            $prop:      background-color,
            $ckey:      bg,
            $opa:       true
        );
    }
    编译后：
    .foo * { background-color: color-bg; }  //如果存在 color-{ckey}
    .foo .bg-l1 { background-color: color-bg-l1; }
    .foo .bg-l2 { background-color: color-bg-l2; }
    .foo .bg-l1-a1 { background-color: color-bg-l1-a1; }  //透明度循环
    .foo .bg-l1-a2 { background-color: color-bg-l1-a2; }
    .foo .bg-red { background-color: color-red; }
    .foo .bg-red-hover { background-color: color-red; }
    .foo .bg-red-hover:hover { background-color: color-red-l1; }
    .foo .bg-red-l1 { background-color: color-red-l1; }
    .foo .bg-red-l2 { background-color: color-red-l2; }
    .foo .bg-red-l1-a1 { background-color: color-red-l1-a1; }  //透明度循环
    .foo .bg-red-l1-a2 { background-color: color-red-l1-a2; }
    .foo .bg-blue { background-color: color-blue; }
    .foo .bg-blue-l1 { background-color: color-blue-l1; }
    .foo .bg-blue-l2 { background-color: color-blue-l2; }
    .foo .bg-blue-l1-a1 { background-color: color-blue-l1-a1; }  //透明度循环
    .foo .bg-blue-l1-a2 { background-color: color-blue-l1-a2; }
**/
@mixin spf-color-shift(
    $target:    self,               //此颜色样式应用到 self(当前引用的类) 或 child(当前引用类的后代类)，默认 self
    $pre:       fc-,                //新增颜色样式的类前缀，如：fc- 则 生成类：.foo.fc-red-m | .foo .fc-red-m
    $prop:      color,              //要设置颜色的 css 属性，可选 color/border-color/background-color/... 默认 color
    $ckey:      fc,                 //$prop 属性的默认颜色名，如：background-color 的默认颜色名为 bgc ($color-bgc-*)
    $opa:       false,              //是否启用透明度，true 表示同时循环透明度
    $filter:    null                //是否在 colorMap 中筛选部分颜色值 作为循环数据源  颜色键名(前缀) list
) {
    
    $list:      $colorListAll;      //颜色名称 list 数组，默认 $colorListAll 通用色
    $cque:      $colorShiftQueue;   //储存所有颜色 shift 变化 lvl 的 list，如：l2,l1,d1,d2 默认 $colorShiftQueue
    //$alist:     $colorListAlpha;    //定义的透明度级数序列，默认 a1~a9
    //$amap:      $colorAlphaMap;     //储存所有透明序列的 map，默认 $colorAlphaMap
    //储存 所有|筛选部分 色值的 map，默认 $colorMap
    $cmap:      if(not is-list($filter), $colorMap, map-filter-keys($colorMap, $filter...));

    @each $c in $list {
        @each $cq in $cque {
            /**
            *  针对 $pre 与 颜色名称相同的 情况
            *  例如 $pre = fc- 颜色列表中又包含了 fc-m 颜色，则会生成 .fc-fc-m 颜色类
            *  此处解决这个问题
            */
            $ck: '';
            $ci: null;
            @if $ckey == $c {
                $ck: #{$cq};
                $ci: color-get(#{$c}-#{$cq}, null, $cmap);
            } @else {
                $ck: #{$c}-#{$cq};
                $ci: color-get($ck, null, $cmap);
            }
            @if $ci != null {
                @if $target == self {
                    &.#{$pre}#{$ck} { #{$prop}: #{$ci} !important; }
                } @else if $target == child {
                    & .#{$pre}#{$ck} { #{$prop}: #{$ci} !important; }
                }
                /** 判断 $ci 颜色值是否自带 透明度 自带透明度的颜色不执行透明度循环 **/
                /** 通过主题系统自动生成的 colorMap 一定是 hex 形式 **/
            }

            /** 针对 color-m 级别的颜色 自动通过 pre-hoverable 增加悬停翻转颜色样式 **/
            @if $cq == 'm' {
                /** hover 默认使用 color-l1 级颜色 **/
                $ci-hov: color-get(#{$c}-l1, null, $cmap);
                @if $ci-hov != null {
                    @if $target == self {
                        &.#{$pre}#{$ck}.#{$pre}hoverable { 
                            &:hover {
                                #{$prop}: #{$ci-hov} !important; 
                            }
                        }
                    } @else if $target == child {
                        & .#{$pre}#{$ck}.#{$pre}hoverable { 
                            &:hover {
                                #{$prop}: #{$ci-hov} !important; 
                            }
                        }
                    }
                }
            }
        }
    }
}
/** size-shift **/
/** 根据 $list 可选尺寸数组(如：xs,s,m,l,xl)，为 当前类 或 后代类 指定尺寸样式 **/
@mixin spf-size-shift(
    $target:    self,               //此颜色样式应用到 self(当前引用的类) 或 child(当前引用类的后代类)，默认 self
    $pre:       pd-,                //样式类前缀，如：pd- 则生成类：.foo.pd-xxl | .foo .pd-xs
    $prop:      padding,            //要设置尺寸的 css 属性，可选 padding/margin/font-size/border-width/border-radius... 默认 padding
    $skey:      pd,                 //在尺寸 map 中的键名前缀，如 fs|pd|mg|rd|btn...
    $manual:    null,               //手动通过数值指定尺寸 list 如：24,32,48,54
    $trbl:      true,               //是否自动循环输出 trbl position 参数
    $filter:    null                //是否在 sizeMap 中筛选部分尺寸值 作为循环数据源  尺寸键名(前缀) list
) {
    //需要执行 位置循环的 $prop list
    $props: padding,margin,border-width,border-radius;
    //根据 filter 筛选部分 尺寸值
    $smap: if(not is-list($filter), $sizeMap, map-filter-keys($sizeMap, $filter...));

    //主题系统生成的 sizeMap 一定包含 -m 原始尺寸
    $msz: size-get(#{$skey}-m, null, $smap);
    //获取当前尺寸值序列的单位 如：px 主题系统生成的 sizeMap 相同键名一定拥有相同单位
    $mu: if(not is-number($msz), '', unit($msz));

    @each $sz in $sizeShiftQueue {
        $si: size-get(#{$skey}-#{$sz}, null, $smap);
        @if $si != null {
            @if $target == self {
                &.#{$pre}#{$sz} {
                    #{$prop}: $si !important;
                }
            } @else if $target == child {
                & .#{$pre}#{$sz} {
                    #{$prop}: $si !important;
                }
            }
            /** 对于某些 prop 还需要执行 位置循环 **/
            @if $trbl == true and has($props, $prop, true) {
                @if $prop == border-radius {
                    /** 针对 radius 执行特殊循环 **/
                    @each $ri in $cornerQueue {
                        @if $target == self {
                            //&.rd-xs.rd-tl
                            &.#{$pre}#{$sz}.#{$pre}#{$ri} {
                                @include spf-size-rd($si, $ri, true);
                            }
                        } @else if $target == child {
                            //& .rd-xs.rd-br
                            & .#{$pre}#{$sz}.#{$pre}#{$ri} {
                                @include spf-size-rd($si, $ri, true);
                            }
                        }
                    }
                } @else {
                    /** 正常的 trbl 循环 **/
                    @each $pi in $trblQueue {
                        @if $target == self {
                            //&.pd-xs.pd-tbl
                            &.#{$pre}#{$sz}.#{$pre}#{$pi} {
                                @include spf-size-po($si, $pi, $prop, true);
                            }
                        } @else if $target == child {
                            //& .pd-xs.pd-tbl
                            & .#{$pre}#{$sz}.#{$pre}#{$pi} {
                                @include spf-size-po($si, $pi, $prop, true);
                            }
                        }
                    }
                }
            }
        }
    }

    //通过手动传入尺寸值，来设置尺寸样式
    @if is-list($manual) {
        @each $sz in $manual {
            @if $target == self {
                &.#{$pre}#{$sz}#{$mu} {
                    #{$prop}: #{$sz}#{$mu} !important;
                }
            } @else if $target == child {
                & .#{$pre}#{$sz}#{$mu} {
                    #{$prop}: #{$sz}#{$mu} !important;
                }
            }
            /** 对于某些 prop 还需要执行 位置循环 **/
            @if $trbl == true and has($props, $prop, true) {
                @if $prop == border-radius {
                    /** 针对 radius 执行特殊循环 **/
                    @each $ri in $cornerQueue {
                        @if $target == self {
                            //&.rd-16px.rd-tl
                            &.#{$pre}#{$sz}#{$mu}.#{$pre}#{$ri} {
                                @include spf-size-rd(#{$sz}#{$mu}, $ri, true);
                            }
                        } @else if $target == child {
                            //& .rd-16px.rd-br
                            & .#{$pre}#{$sz}#{$mu}.#{$pre}#{$ri} {
                                @include spf-size-rd(#{$sz}#{$mu}, $ri, true);
                            }
                        }
                    }
                } @else {
                    /** 正常的 trbl 循环 **/
                    @each $pi in $trblQueue {
                        @if $target == self {
                            //&.pd-xs.pd-tbl
                            &.#{$pre}#{$sz}#{$mu}.#{$pre}#{$pi} {
                                @include spf-size-po(#{$sz}#{$mu}, $pi, $prop, true);
                            }
                        } @else if $target == child {
                            //& .pd-xs.pd-tbl
                            & .#{$pre}#{$sz}#{$mu}.#{$pre}#{$pi} {
                                @include spf-size-po(#{$sz}#{$mu}, $pi, $prop, true);
                            }
                        }
                    }
                }
            }
        }
    }
}
/** 为 当前类 或 后代类 指定 通用的字体样式 **/
@mixin spf-fo-shift($target: self, $manual: (24,32,48,54,64,72,80,96,128)) {
    $prop-pre: if($target == self, unquote("&."), unquote("& ."));
    //颜色循环 .fc-red-m .fc-primary-d3
    @include spf-color-shift($target, 'fc-', color, fc);
    //尺寸循环 .fs-m .fs-xl .fs-32px 
    @include spf-size-shift($target, 'fs-', font-size, fs, $manual, false);
    //字重循环 .fw-xl .fw-m
    @include spf-size-shift($target, 'fw-', font-weight, fw, (100,200,300,400,500,600,700,800,900), false);
    //字重快捷类 .fw-normal|bold|thin
    #{$prop-pre}fw-normal { font-weight: $size-fw-m !important; }
    #{$prop-pre}fw-bold { font-weight: $size-fw-xl !important; }
    #{$prop-pre}fw-thin { font-weight: $size-fw-xs !important; }
    //字体族 .fml-default|code...
    $fmls: map-filter-keys($varsMap, font-fml);
    $fmlks: map.keys($fmls);
    @each $k in $fmlks {
        //font-fml-foobar --> fml-foobar
        $ki: str-sub($k, 6);
        $kv: map.get($fmls, $k);
        #{$prop-pre}#{$ki} {font-family: unquote($kv) !important;}
    }

    //其他通用字体样式
    //链接字体样式 .f-a
    #{$prop-pre}f-a {
        @include spf-a(primary);
    }
    //高亮字体 .f-highlight
    #{$prop-pre}f-highlight {
        box-sizing: border-box;
        padding: .2em .3em !important;
        margin: 0 .3em !important;
        border: {
            radius: .2em !important;
            width: 0 !important;
        }
        background-color: $color-warn-l3 !important;
        color: $color-warn-l3-fc !important;
        &.hl-border {
            border: {
                width: 1px !important;
                color: $color-warn-l2 !important;
            }
        }
        @each $hc in $typeList {
            $hcv: color-get(#{$hc}-l3);
            $hfcv: color-get(#{$hc}-l3-fc);
            $hbcv: color-get(#{$hc}-l2);
            @if $hcv != null {
                &.hl-#{$hc} {
                    background-color: $hcv !important;
                    color: $hfcv !important;
                    &.hl-border {
                        border-color: $hbcv !important;
                    }
                }
            }
        }
    }
    //codex 代码字体
    #{$prop-pre}f-code {
        padding: .2em .3em !important;
        margin: 0 .3em !important;
        border: {
            radius: .2em !important;
            width: 0 !important;
        }
        background-color: $color-gray-l3 !important;
        color: $color-primary-d3 !important;
        font-family: $font-fml-code;
    }
    //.f-ellipsis
    #{$prop-pre}f-ellipsis {
        @include spf-text-ellipsis;
    }
}
/** 为 当前类 或 后代类 指定 通用的边框样式 可手动指定 border-width|radius 尺寸 list **/
@mixin spf-bd-shift($target: self, $width: null, $radius: null) {
    $prop-pre: if($target == self, unquote("&"), unquote("& "));
    //颜色循环 .bdc-red-d2 .bdc-m
    @include spf-color-shift($target, 'bdc-', border-color, bdc);
    #{$prop-pre}[class*=bdc-] {
        border: {
            style: solid;
            width: $size-bd-m;
        }
    }
    //尺寸循环|位置循环 .bd-m .bd-m.bd-rl .bd-m.bd-xy
    @include spf-size-shift($target, 'bd-', border-width, bd, $width);
    #{$prop-pre}[class*=bd-] {
        border: {
            style: solid;
            color: $color-bdc-m;
        }
    }
    //圆角循环 .rd-m|xl..
    @include spf-size-shift($target, 'rd-', border-radius, rd, $radius);
}
/** 为 当前类 或 后代类 指定 通用的 padding 样式 **/
@mixin spf-pd-shift($target: self, $manual: null) {
    //尺寸循环|位置循环 .pd-m .pd-s.pd-rl .pd-xl.pd-xy
    @include spf-size-shift($target, 'pd-', padding, pd, $manual);
}
/** 为 当前类 或 后代类 指定 通用的 margin 样式 **/
@mixin spf-mg-shift($target: self, $manual: null) {
    //尺寸循环|位置循环 .mg-m .mg-s.mg-rl .mg-xl.mg-xy
    @include spf-size-shift($target, 'mg-', margin, mg, $manual);
}
/** 为 当前类 或 后代类 指定 通用的 background 样式 **/
@mixin spf-bg-shift($target: self, $blur: null) {
    $prop-pre: if($target == self, unquote("&."), unquote("& ."));
    //颜色循环|透明度循环 .bgc-red-d2 .bgc-m .bgc-primary-l1.bgc-a6
    @include spf-color-shift($target, 'bgc-', border-color, bgc, true);
    //backdrop-filter: blur()
    @if $blur == null {$blur: size-get(blur-m);}
    //.bg-blur
    #{$prop-pre}bg-blur {
        backdrop-filter: blur($blur);
    }
}
/** 为 当前类 或 后代类 指定 通用的 opacity 样式 **/
@mixin spf-opa-shift($target: self) {
    $prop-pre: if($target == self, unquote("&."), unquote("& ."));
    @for $opi from 1 through 10 {
        $opik: $opi * 10;
        $opiv: $opi / 10;
        //.opa-10|20|100...
        #{$prop-pre}opa-#{$opik} {
            opacity: $opiv !important;
        }
    }
}
/** 为 当前类 或 后代类 指定 通用的 shadow 样式 **/
@mixin spf-shadow-shift($target: self, $manual: null) {
    $prop-pre: if($target == self, unquote("&."), unquote("& ."));
    //阴影颜色固定，自带透明度
    $sdc: $color-shadow-m;
    //阴影尺寸 自动计算
    @each $qi in $sizeShiftQueue {
        $sz: size-get(shadow-#{$qi});
        @if is-number($sz) {
            $x: div($sz, 2);
            $y: $sz;
            $blur: add($sz, set-unit(8, unit($sz)));
            //.shadow-m|xl
            #{$prop-pre}shadow-#{$qi} {
                box-shadow: #{$x} #{$y} #{$blur} #{$sdc};
            }
        }
    }
}



 /** 初始化 body 样式 **/
body, view, .page {
    margin: 0; padding: 0;
    //后代元素的 margin|padding 样式
    @include spf-mg-shift(child);
    @include spf-pd-shift(child);

    //默认字体
    font: {
        size: $size-fs-m;
        weight: $size-fw-m;
        family: $font-fml-default;
    }
    color: $color-fc-m;
    //后代元素的字体样式
    @include spf-fo-shift(child);

    //默认背景
    background-color: $color-bgc-m;
    //后代元素的背景样式
    @include spf-bg-shift(child);

    //默认的边框样式
    border: {
        width: 0;
        style: solid;
        color: transparent;
        radius: 0;
    }
    //后代元素的 边框样式
    @include spf-bd-shift(child);

    //后代元素的 特殊样式
    //opacity
    @include spf-opa-shift(child);
    //shadow
    @include spf-shadow-shift(child);
}

//通用 flex 样式
.flex-x {@include spf-flex-x($gap: $size-mg-m);}
.flex-y {@include spf-flex-y($gap: $size-mg-m);}

//通用 svg-icon 样式
.icon {
    width: 1em; height: 1em;
    //vertical-align: -0.15em;
    //margin-top: 0.05em;
    fill: currentColor;
    overflow: hidden;
    transition: all $ani-dura;

    //默认 size
    font-size: $size-icon-m;

    //默认 color
    color: $color-fc-m;

    //尺寸循环
    @each $si in $sizeStrQueue {
        $ski: map.get($sizeStrMap, $si);
        $sk: icon-#{$ski};
        $sz: size-get($sk);
        @if is-number($sz) {
            &.icon-#{$si}, &.#{$sk} {
                font-size: $sz;
            }
        }
    }
    @each $si in $sizeShiftQueue {
        $sk: icon-#{$si};
        $sz: size-get($sk);
        @if is-number($sz) {
            &.#{$sk} {
                font-size: $sz;
            }
        }
    }
    //手动 icon 尺寸循环
    $u: unit($size-icon-m);
    @each $sn in $extraIconSizeQueue {
        @if is-number($sn) {
            $sk: if(is-digit($sn), set-unit($sn, $u), $sn);
            &.icon-#{$sk} {
                font-size: $sk;
            }
        }
    }

    //颜色循环
    @each $ci in $colorListAll {
        $cvm: color-get(#{$ci}-m);
        @if is-color($cvm) {
            &.icon-#{$ci} {
                color: $cvm;
            }
            @each $si in $colorShiftQueue {
                $ck: #{$ci}-#{$si};
                $cvk: color-get($ck);
                @if is-color($cvk) {
                    &.icon-#{$ck} {
                        color: $cvk;
                    }
                }
            }
        }
    }
}


//自定义 scroll-bar 样式
.scroll, .scroll-y {
    @include spf-scroll;
    .scroll-thin {@include spf-scroll($size: 4px);}
    .scroll-bold {@include spf-scroll($size: 8px);}
}
.scroll-x {
    @include spf-scroll($ov: auto hidden);
    .scroll-thin {@include spf-scroll($size: 4px, $ov: auto hidden);}
    .scroll-bold {@include spf-scroll($size: 8px, $ov: auto hidden);}
}


