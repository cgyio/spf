/** patch element-ui **/

/*.cv-el>.el-input,
.cv-el.el-input {
    font: {
        size: $size-f;
    }

    .el-input__inner {
        color: $color-fc;
        border-color: $color-bd;
        &:hover {
            border-color: $color-bd-d1;
        }

        height: $size-btn;
        line-height: $size-btn;
        border-radius: $size-radius;
    }
    .el-input__icon {
        line-height: $size-btn;
    }
    &.is-focus .el-input__inner {
        border-color: $color-primary;
    }
}
.cv-el>.el-input--mini,
.cv-el.el-input--mini {
    font: {
        size: $size-f-xs;
    }

    .el-input__inner {
        height: $size-btn-xs;
        line-height: $size-btn-xs;
        border-radius: $size-radius-xs;
    }
    .el-input__icon {
        line-height: $size-btn-xs;
    }
}
.cv-el>.el-input--small,
.cv-el.el-input--small {
    font: {
        size: $size-f-s;
    }

    .el-input__inner {
        height: $size-btn-s;
        line-height: $size-btn-s;
        border-radius: $size-radius-s;
    }
    .el-input__icon {
        line-height: $size-btn-s;
    }
}
.cv-el>.el-input--medium,
.cv-el.el-input--medium {
    font: {
        size: $size-f-l;
    }

    .el-input__inner {
        height: $size-btn-l;
        line-height: $size-btn-l;
        border-radius: $size-radius-l;
    }
    .el-input__icon {
        line-height: $size-btn-l;
    }
}
.cv-el>.el-input--large,
.cv-el.el-input--large {
    font: {
        size: $size-f-xl;
    }

    .el-input__inner {
        height: $size-btn-xl;
        line-height: $size-btn-xl;
        border-radius: $size-radius-xl;
    }
    .el-input__icon {
        line-height: $size-btn-xl;
    }
}*/

@function cvelGetSize($tp: '', $pre: 'btn', $szmap: $sizeMap) {
    @if $tp == '' {
        $sz: map-get($szmap, $pre);
        @return $sz;
    } @else {
        $tp-map: (
            mini: xs,
            small: s,
            medium: l,
            large: xl
        );
        $tpk: map-get($tp-map, $tp);
        $sz: map-get($szmap, #{$pre}-#{$tpk});
        @return $sz;
    }
}

@mixin cvel-input-inner-size($tp: '') {
    $sz: cvelGetSize($tp: #{$tp}, $pre: 'btn');
    $rd: cvelGetSize($tp: #{$tp}, $pre: 'radius');
    //$pd: cvelGetSize($tp: #{$tp}, $pre: 'gap');
    height: $sz;
    line-height: $sz;
    border-radius: $rd;
    //padding: 0 #{$pd};
}
@mixin cvel-input-icon-size($tp: '') {
    $sz: cvelGetSize($tp: #{$tp}, $pre: 'btn');
    line-height: $sz;
}

@mixin cvel-input-inner-hover($error: no) {
    @if $error == yes {
        border-color: $color-danger;
    } @else {
        border-color: $color-bd-d1;
    }
    color: $color-fc-d1;
}
@mixin cvel-input-inner-active($error: no) {
    @if $error == yes {
        $c: 'danger';
    } @else {
        $c: 'primary';
    }
    $fc: map-get($colorMap, #{$c}-d1);
    $bdc: map-get($colorMap, #{$c}-l1);
    $sdc: map-get($colorMap, #{$c});

    color: $fc;
    border-color: $bdc;
    box-shadow: 0 0 3px #{$sdc}66;
    background-color: $color-white;
}
@mixin cvel-input-inner-disabled($error: no) {
    color: $color-fc-l2;
    background-color: $color-bg-l1;
    @if $error == yes {
        border-color: $color-danger-l2;
    } @else {
        border-color: $color-bd;
    }
}

@mixin cvel-tag-color($ci: 'primary', $tp: 'cgy') {
    $ci-hex: map-get($colorMap, #{$ci});
    $ci-l2-hex: map-get($colorMap, #{$ci}-l2);
    $ci-l3-hex: map-get($colorMap, #{$ci}-l3);
    $ci-f-hex: map-get($colorMap, #{$ci}-f);

    $prop: '.cv-el-tag-#{$ci}.el-tag';
    @if $tp == 'el' {   //使用 element-ui 的 color types
        $prop: '.el-tag--#{$ci}';
    } @else if $tp == '' {
        $prop: '.el-tag';
    }

    //&.cv-el-tag-#{$ci}.el-tag {
    &#{$prop} {
        /* hover shadow */
        &:hover {
            box-shadow: 0 0 3px #{$ci-hex}66;
        }

        /* effect=light */
        background-color: $ci-l3-hex;
        border-color: $ci-l2-hex;
        color: $ci-hex;
        &>.el-tag__close.el-icon-close {
            color: $ci-hex;
            &:hover {
                background-color: $ci-hex;
                color: $ci-l3-hex;
            }
        }

        /* effects */
        &.el-tag--dark {
            background-color: $ci-hex;
            //border-color: $ci-l2-hex;
            border: none;
            color: $ci-f-hex;
            &>.el-tag__close.el-icon-close {
                color: $ci-f-hex;
                &:hover {
                    background-color: $ci-f-hex;
                    color: $ci-hex;
                }
            }
            
            &:hover {
                box-shadow: 0 0 6px #{$ci-hex}99;
            }
        }
        &.el-tag--plain {
            background-color: $color-bg-l3;
            border-color: $ci-l2-hex;
            color: $ci-hex;
            &>.el-tag__close.el-icon-close {
                color: $ci-hex;
                &:hover {
                    background-color: $ci-hex;
                    color: $color-white;
                }
            }
        }
    }
}

.cv-el {

    /**
     * el-input / el-input-number / el-select / el-date-picker / el-time-picker
     */

    /** 默认尺寸 **/
    $sz: cvelGetSize();
    $fsz: cvelGetSize($pre: 'f');
    $rd: cvelGetSize($pre: 'radius');
    $pd: cvelGetSize($pre: 'btn-gap');

    width: unset; min-width: $sz;

    &.el-input, .el-input {
        font-size: $fsz;
        .el-input__inner {
            @include cvel-input-inner-size;
        }
        .el-input__icon {
            @include cvel-input-icon-size;
        }
    }

    &.el-input, .el-input, &.el-textarea {
        .el-input__inner, .el-textarea__inner {
            @include trans;
            background-color: $color-bg-l3;

            color: $color-fc;
            border-color: $color-bd;
            font-family: $font-fml;
        }
        .el-input__icon {
            color: $color-fc-l2;
        }

        &.is-disabled {
            .el-input__inner, .el-textarea__inner {
                @include cvel-input-inner-disabled;
            }
        }
    }
    &.el-input.el-input-group {
        height: $sz;
        border: $color-bd solid 1px;
        border-radius: $rd;
        box-sizing: border-box;
        @include flex-x($y: stretch);
        @include trans;

        .el-input__inner {
            flex: 1;
            border: none;
            height: unset; line-height: unset;
        }
        &.el-input-group--prepend {
            .el-input__inner {
                border-top-left-radius: 0;
                border-bottom-left-radius: 0;
            }
        }
        &.el-input-group--append {
            .el-input__inner {
                border-top-right-radius: 0;
                border-bottom-right-radius: 0;
            }
        }

        &>.el-input-group__prepend,
        &>.el-input-group__append {
            width: unset;
            padding: 0 #{$pd}; margin: 0;
            @include flex-x;
            border: none;
            line-height: unset;
            font-size: $fsz;
            color: $color-fc-l2;
            @include trans;
        }
        &>.el-input-group__prepend {
            padding-right: 0;
            background-color: $color-bg-l3;
            border-top-left-radius: $rd;
            border-bottom-left-radius: $rd;
        }
        &>.el-input-group__append {
            padding-left: 0;
            background-color: $color-bg-l3;
            border-top-right-radius: $rd;
            border-bottom-right-radius: $rd;
        }
        &:focus-within {
            &>.el-input-group__prepend,
            &>.el-input-group__append {
                background-color: $color-white;
            }
        }
    }

    &.el-date-editor {
        &>.el-input__inner {
            font-family: $font-fml-code;
        }
        &.el-input__inner {
            background-color: $color-bg-l3;
            color: $color-fc;
            font-family: $font-fml-code;
            font-size: $fsz;
            @include cvel-input-inner-size;
            border-color: $color-bd;

            &>.el-range-input {
                background-color: $color-bg-l3;
                color: $color-fc;
                font-family: $font-fml-code;
            }
            &>.el-input__icon {
                /** 只对 此尺寸 **/
                //@include cvel-input-icon-size;
                line-height: 24px;
            }
            &>.el-range-separator {
                line-height: 24px;
                color: $color-fc-l2;
            }
            &>.el-input__icon {
                color: $color-fc-l2;
            }

            &.is-active {
                @include cvel-input-inner-active;
                &>.el-range-input {
                    background-color: $color-white;
                    color: $color-primary-d1;
                }
            }
            &.is-disabled {
                @include cvel-input-inner-disabled;
                &>input {
                    @include cvel-input-inner-disabled;
                    border: none;
                }
            }
        }
    }

    &.el-input-number {
        & .el-input__inner {
            font-family: $font-fml-code;
        }
        &>.el-input-number__decrease,
        &>.el-input-number__increase {
            box-sizing: border-box;
            width: $sz;
            height: $sz;
            font-size: $fsz;
            top: 0;
            border: none;
            color: $color-fc-l2;
            background-color: transparent;
            &:hover {
                color: $color-primary-l1;
            }
            &.is-disabled {
                color: $color-fc-l3;
                &:hover {
                    color: $color-fc-l3;
                }
            }
        }

        &.is-controls-right {
            &>.el-input-number__decrease,
            &>.el-input-number__increase {
                width: $sz;
                height: calc(#{$sz} * 0.5);
                font-size: $fsz;
                right: 1px;
                border: none;
                color: $color-fc-l2;
                background-color: transparent;
                &:hover {
                    color: $color-primary-l1;
                }
                &.is-disabled {
                    color: $color-fc-l3;
                    &:hover {
                        color: $color-fc-l3;
                    }
                }
            }
            &>.el-input-number__decrease {
                top: calc(#{$sz} * 0.5);
            }
            &>.el-input-number__increase {
                top: 3px;
            }
        }
    }

    &.el-switch {
        $swh: 24px;     //20px
        $srd: 12px;     //10px
        $isz: 20px;     //16px
        $ics: -21px;    //-17px

        height: $swh;
        line-height: $swh;

        .el-switch__core {
            height: $swh;
            border-radius: $srd;
            @include trans;

            &:after {
                width: $isz;
                height: $isz;
                box-shadow: 3px 0 6px #{$color-black}26;
            }

            border-color: $color-bg-d1;
            background-color: $color-bg-d1;
        }
        .el-switch__label {
            @include flex-x;
            font-size: $fsz;
            & * {
                line-height: $fsz;
            }
            
            color: $color-fc-l2;
            &.is-active {
                color: $color-primary;
                font-weight: 700;
            }

            &.el-switch__label--left {
                margin: 0 calc(#{$pd} * 0.5) 0 $pd;
            }
            &.el-switch__label--right {
                margin: 0 $pd 0 calc(#{$pd} * 0.5);
            }
        }
        &.is-checked {
            .el-switch__core {
                border-color: $color-primary;
                background-color: $color-primary;
                &:after {
                    margin-left: $ics;
                    box-shadow: -3px 0 6px #{$color-black}33;
                }
            }
        }
        &.is-disabled {
            opacity: 0.5;
            &.is-checked {
                opacity: 0.3;
            }
        }
        &:hover {
            &.is-checked {
                .el-switch__core {
                    border-color: $color-primary-l1;
                    background-color: $color-primary-l1;
                }
            }
        }
    }

    &.el-slider {
        .el-slider__runway {
            background-color: $color-bg-d1;
            &>.el-slider__bar {
                background-color: $color-primary;
            }
            & .el-slider__button {
                border-color: $color-primary;
                &:hover {
                    box-shadow: 0 2px 4px #{$color-primary}4d;
                }
            }

            &.disabled {
                background-color: $color-bg;
                &>.el-slider__bar {
                    background-color: $color-bg-d2;
                }
                & .el-slider__button {
                    border-color: $color-bg-d2;
                    &:hover {
                        box-shadow: none;
                    }
                }
            }
        }
    }

    &:hover {
        &.el-input, .el-input, &.el-textarea {
            .el-input__inner, .el-textarea__inner {
                @include cvel-input-inner-hover;
            }

            &.is-disabled {
                .el-input__inner, .el-textarea__inner {
                    @include cvel-input-inner-disabled;
                }
            }
        }
        
        &.el-input.el-input-group {
            border-color: $color-bd-d1;

            .el-input__inner {
                @include cvel-input-inner-hover;
                border: none;
            }
        }

        &.el-date-editor {
            &.el-input__inner {
                @include cvel-input-inner-hover;
    
                &.is-active {
                    @include cvel-input-inner-active;
                }
                &.is-disabled {
                    @include cvel-input-inner-disabled;
                }
            }
        }
    }
    &:focus-within {
        &.el-input, .el-input, &.el-textarea {
            .el-input__inner, .el-textarea__inner {
                @include cvel-input-inner-active;
            }
        }
        
        &.el-input.el-input-group {
            border-color: $color-primary-l1;
            box-shadow: 0 0 3px #{$color-primary}66;

            .el-input__inner {
                @include cvel-input-inner-active;
                border: none;
                box-shadow: none;
            }
        }
    }

    &.el-select {
        .el-input {
            .el-select__caret {
                color: $color-fc-l2;
            }
        }
        .el-tag.el-tag--info {
            background-color: $color-bg-l2;
            .el-tag__close {
                color: $color-dark;
                &.el-icon-close {
                    background-color: $color-bg-d1;
                }
                &:hover {
                    color: $color-bg-l2;
                    &.el-icon-close {
                        background-color: $color-dark;
                    }
                }
            }
        }
    }

    &.cv-el-error {
        &.el-input, .el-input, &.el-textarea {
            .el-input__inner, .el-textarea__inner {
                border-color: $color-danger-l2;
            }
    
            &.is-disabled {
                .el-input__inner, .el-textarea__inner {
                    @include cvel-input-inner-disabled($error: yes);
                }
            }
        }

        &.el-date-editor {
            &.el-input__inner {
                //background-color: $color-danger-l3;
                border-color: $color-danger-l2;
    
                &.is-active {
                    @include cvel-input-inner-active($error: yes);
                    &>.el-range-input {
                        color: $color-danger-d1;
                    }
                }
                &.is-disabled {
                    @include cvel-input-inner-disabled($error: yes);
                    &>input {
                        @include cvel-input-inner-disabled($error: yes);
                    }
                }
            }
        }

        &.el-input-number {
            &>.el-input-number__decrease,
            &>.el-input-number__increase {
                &:hover {
                    color: $color-danger-l1;
                }
            }
    
            &.is-controls-right {
                &>.el-input-number__decrease,
                &>.el-input-number__increase {
                    &:hover {
                        color: $color-danger-l1;
                    }
                }
            }
        }
        
        &.el-input.el-input-group {
            border: $color-danger-l2 solid 1px;
        }

        &:hover {
            &.el-input, .el-input, &.el-textarea {
                .el-input__inner, .el-textarea__inner {
                    @include cvel-input-inner-hover($error: yes);
                }
                &.is-disabled {
                    .el-input__inner, .el-textarea__inner {
                        @include cvel-input-inner-disabled($error: yes);
                    }
                }
            }
            
            &.el-input.el-input-group {
                border-color: $color-danger;    //$color-bd-d1;
    
                .el-input__inner {
                    @include cvel-input-inner-hover($error: yes);
                }
            }
    
            &.el-date-editor {
                &.el-input__inner {
                    @include cvel-input-inner-hover($error: yes);
        
                    &.is-active {
                        @include cvel-input-inner-active($error: yes);
                    }
                    &.is-disabled {
                        @include cvel-input-inner-disabled($error: yes);
                        &>input {
                            @include cvel-input-inner-disabled($error: yes);
                        }
                    }
                }
            }
        }
        &:focus-within {
            &.el-input, .el-input, &.el-textarea {
                .el-input__inner, .el-textarea__inner {
                    @include cvel-input-inner-active($error: yes);
                }
            }
            
            &.el-input.el-input-group {
                //border-color: $color-primary-l1;
                //box-shadow: 0 0 3px #{$color-primary}66;
                border-color: $color-danger-l1;
                box-shadow: 0 0 3px #{$color-danger}66;
    
                .el-input__inner {
                    @include cvel-input-inner-active($error: yes);
                }
            }
        }
    }

    &.cv-el-fml-code {
        .el-input__inner, .el-textarea__inner,
        & .el-input__inner, & .el-range-input {
            font-family: $font-fml-code !important;
        }
    }
    &.cv-el-fml-normal {
        .el-input__inner, .el-textarea__inner,
        & .el-input__inner, & .el-range-input {
            font-family: $font-fml !important;
        }
    }

    /**
     * el-tag
     */
    /* default */
    &.el-tag {
        /* to flex */
        @include po-ov($w: unset, $h: unset, $mg: 0, $pd: 0);
        @include flex-x($x: center);
        line-height: 100%;
        cursor: default;
        @include trans;

        /* default size */
        $tag-sz-dft: cvelGetSize();
        $tag-sz-dft-f: cvelGetSize($pre: 'btn-f');
        $tag-sz-dft-ic: cvelGetSize($pre: 'btn-icon');
        $tag-sz-dft-pd: cvelGetSize($pre: 'btn-gap');
        $tag-sz-dft-rd: cvelGetSize($pre: 'radius');
        $tag-sz-dft-pd-hf: calc(#{$tag-sz-dft-pd} * 0.5);
        height: $tag-sz-dft;
        padding: 0 #{$tag-sz-dft-pd};
        //line-height: calc(#{$tag-sz-dft} - 1px);
        border-radius: $tag-sz-dft-rd;
        font-size: $tag-sz-dft-f;
        &>.el-tag__close {
            margin-left: $tag-sz-dft-pd-hf;
            margin-right: calc(#{$tag-sz-dft-pd} * -0.5);
            &.el-icon-close {
                $clo-sz: calc(#{$tag-sz-dft-f} * 1.2);
                font-size: $tag-sz-dft-f;
                width: $clo-sz;
                height: $clo-sz;
                line-height: 100%;
                display: flex; align-items: center; justify-content: center;
                top: 0; right: 0; padding: 0;
                transform: none;
            }
        }
        &>.cv-icon {
            font-size: $tag-sz-dft-ic;
            margin-left: calc(#{$tag-sz-dft-pd} * -0.5);
            margin-right: $tag-sz-dft-pd-hf;
        }
        &>.cv-el-tag-sep-label {
            &+.cv-el-tag-sep-value {
                margin-left: $tag-sz-dft-pd;
            }
        }
        &>.cv-el-tag-sep-value {
            font-weight: 700;
        }

        /* sizes */
        @each $szi in mini,small,medium,large {
            $tag-sz: cvelGetSize($tp: #{$szi});
            $tag-sz-f: cvelGetSize($tp: #{$szi}, $pre: 'btn-f');
            $tag-sz-ic: cvelGetSize($tp: #{$szi}, $pre: 'btn-icon');
            $tag-sz-pd: cvelGetSize($tp: #{$szi}, $pre: 'btn-gap');
            $tag-sz-rd: cvelGetSize($tp: #{$szi}, $pre: 'radius');
            $tag-sz-pd-hf: calc(#{$tag-sz-pd} * 0.5);
            &.el-tag--#{$szi} {
                height: $tag-sz;
                padding: 0 #{$tag-sz-pd};
                //line-height: calc(#{$tag-sz} - 1px);
                //line-height: unset;
                border-radius: $tag-sz-rd;
                font-size: $tag-sz-f;
                &>.el-tag__close {
                    margin-left: $tag-sz-pd-hf;
                    margin-right: calc(#{$tag-sz-pd} * -0.5);
                    &.el-icon-close {
                        $clo-sz: calc(#{$tag-sz-f} * 1.2);
                        font-size: $tag-sz-f;
                        width: $clo-sz;
                        height: $clo-sz;
                    }
                }
                &>.cv-icon {
                    font-size: $tag-sz-ic;
                    margin-left: calc(#{$tag-sz-pd} * -0.5);
                    margin-right: $tag-sz-pd-hf;
                }
                &>.cv-el-tag-sep-label {
                    &+.cv-el-tag-sep-value {
                        margin-left: $tag-sz-pd;
                    }
                }
            }
        }

        /* default hover shadow */
        &:hover {
            box-shadow: 0 0 5px #{$color-primary}66;
        }

        /* default color effect=light */
        background-color: $color-primary-l3;
        border-color: $color-primary-l2;
        color: $color-primary;
        &>.el-tag__close.el-icon-close {
            &:hover {
                background-color: $color-primary;
                color: $color-primary-l3;
            }
        }

        /* effects */
        &.el-tag--dark {
            background-color: $color-primary;
            //border-color: $color-primary;
            border: none;
            color: $color-primary-f;
            &>.el-tag__close.el-icon-close {
                &:hover {
                    background-color: $color-primary-f;
                    color: $color-primary;
                }
            }
        }
        &.el-tag--plain {
            background-color: $color-bg-l3;
            border-color: $color-primary-l2;
            color: $color-primary;
            &>.el-tag__close.el-icon-close {
                color: $color-primary;
                &:hover {
                    background-color: $color-primary;
                    color: $color-primary-f;
                }
            }
        }

    }
    /* el-tag with el colors */
    @each $ci in primary,warn,danger,success,info {
        @include cvel-tag-color($ci: #{$ci}, $tp: 'el');
    }
    /* el-tag with cgy-vue colors */
    @each $ci in $colorListAll {
        @include cvel-tag-color($ci: #{$ci}, $tp: 'cgy');
    }
    /* disabled */
    &.cv-el-tag-disabled {
        &.el-tag {
            opacity: 0.3;
            cursor: not-allowed;
            &:hover {
                box-shadow: none;
            }
        }

        @include cvel-tag-color($ci: 'disable', $tp: '');
    }
    /* auto gap */
    &.el-tag+&.el-tag {
        margin-left: $size-gap-xs;
    }
}

/** 弹出层 **/
.cv-el-pop {
    &.el-select-dropdown .el-select-dropdown__item,
    &.el-select-dropdown.is-multiple .el-select-dropdown__item {
        color: $color-fc;
        &.hover {
            background-color: $color-primary-l3;
        }
        &.selected {
            color: $color-primary;
            &::after {
                font-size: $size-f;
            }
        }
    }

    &.el-picker-panel {
        background-color: $color-bg-l3;
        & .el-date-picker__time-header,
        & .el-date-range-picker__time-header {
            border-bottom: $color-bd solid 1px;
            background-color: $color-bg-l3;
            & .el-icon-arrow-right {
                color: $color-fc-l2;
                font-size: $size-f;
            }
        }
        & .el-date-picker__header,
        & .el-date-range-picker__header {
            &>.el-picker-panel__icon-btn {
                margin-top: 6px;
                font-size: $size-f;
                color: $color-fc;
                &:hover {
                    color: $color-primary;
                }
            }
            &>.el-date-picker__header-label {
                color: $color-fc-d1;
                font-weight: 700;
                &:hover {
                    color: $color-primary;
                }
            }
        }

        & .el-date-range-picker__header {
            &>div {
                color: $color-fc-d1;
                font-weight: 700;
            }
        }

        & .el-picker-panel__content {
            &>.el-date-table {
                font-size: $size-f;
                border-color: $color-bd;

                th {
                    color: $color-fc-l2;
                    font-weight: bold;
                    border-bottom: $color-bd solid 1px;
                }

                td.prev-month,
                td.next-month {
                    color: $color-bg-d1;
                }
                td.available {
                    color: $color-fc;
                    //font-weight: 500;
                    & span {
                        &:hover {
                            background-color: $color-bg-l2;
                        }
                    }
                    &.today {
                        & span {
                            color: $color-primary;
                            font-weight: 700;
                        }
                    }
                    &.start-date, &.end-date {
                        &>div {
                            color: $color-white;
                            &>span {
                                background-color: $color-primary;
                            }
                        }
                        &.today {
                            &>div>span {
                                color: $color-white;
                            }
                        }
                    }
                    &.current {
                        & span {
                            color: $color-white;
                            background-color: $color-primary;
                        }
                    }
                    &.in-range {
                        &>div {
                            background-color: $color-primary-l3;
                        }
                    }
                }
            }
            &>.el-year-table,
            &>.el-month-table {
                & td {
                    & .cell {
                        color: $color-fc;
                        font-size: $size-f;
                        &:hover {
                            color: $color-primary;
                        }
                    }
                }
                & td.current {
                    & .cell {
                        color: $color-fc-d1;
                        font-weight: 700;
                    }
                }
            }

            &.is-left {
                border-right: $color-bd solid 1px;
            }
        }

        & .el-picker-panel__footer {
            border-top: $color-bd solid 1px;
            background-color: $color-bg-l3;
            .el-picker-panel__link-btn {
                &.el-button--text {
                    font-weight: normal;
                    color: $color-fc;
                    &:hover {
                        color: $color-danger-l1;
                    }
                }
                &.el-button--default {
                    border: none;
                    background-color: transparent;
                    font-weight: 700;
                    color: $color-primary;
                    &:hover {
                        //border:none;
                        color: $color-primary-l1;
                    }
                    &.is-disabled {
                        color: $color-fc-l2;
                        &:hover {
                            color: $color-fc-l2;
                        }
                    }
                }
            }
        }
    }

    &.el-time-panel, &.el-time-range-picker {
        background-color: $color-bg-l3;
        & .el-time-panel__footer {
            border-top: $color-bd solid 1px;
            background-color: $color-bg-l3;
            &>.el-time-panel__btn {
                &.cancel {
                    color: $color-fc;
                    &:hover {
                        color: $color-danger-l1;
                    }
                }
                &.confirm {
                    color: $color-primary;
                    font-weight: 700;
                    &:hover {
                        color: $color-primary-l1;
                    }
                }
            }
        }

        & .el-time-range-picker__content {
            & .el-time-range-picker__header {
                color: $color-fc;
            }
            & .el-time-range-picker__body {
                border: $color-bd solid 1px;
            }
        }
    }

    & .el-time-panel {
        background-color: $color-bg-l3;
        border: $color-bd solid 1px;
        &>.el-time-panel__footer {
            border-top: $color-bd solid 1px;
        }
    }

    &.el-select-dropdown,
    &.el-picker-panel,
    &.el-time-panel,
    &.el-time-range-picker {
        background-color: $color-bg-l3;
        border-radius: cvelGetSize($pre: 'radius');
        border-color: $color-bd;
        box-shadow: 0 2px 12px rgba(0,0,0,.1);
    }

    &.el-popper[x-placement^=bottom] {
        & .popper__arrow {
            border-bottom-color: $color-bd;
        }
    }
    &.el-popper[x-placement^=top] {
        & .popper__arrow {
            border-top-color: $color-bd;
        }
    }
}


/** v-loading **/
.el-loading-mask {
    background-color: #{$color-bg-l3}b3;
    backdrop-filter: blur(#{$size-filter-blur});
    
    &>.el-loading-spinner {
        &>.circular {
            width: $size-btn;
            height: $size-btn;
            &>.path {
                stroke-width: 4px;
                stroke: $color-primary;
            }
        }
    }
}

/** cv-el-switch-wrapper **/
.cv-el-switch-wrapper {
    @include po($w: 46px, $h: 24px, $mg: 0, $pd: 0);
    @include flex-x($y: stretch);
    cursor: pointer;
    &>.cv-el.el-switch {
        z-index: 1;
        width: 100%;
        &>.el-switch__core {
            width: 100% !important;
        }
    }
    &>.cv-el-switch-cover {
        @include po($w: unset, $h: unset, $mg: 0, $pd: 0);
        flex: 1;
        @include flex-x;
        z-index: 3;
        @include trans($dura: 0.1s);

        &>.cv-el-switch-icon-left,
        &>.cv-el-switch-icon-right {
            z-index: 3;
            filter: drop-shadow(1px 1px 1px #{$color-black}4d);
        }
        &>.cv-el-switch-icon-left {
            margin-left: $size-gap-xs;
        }
        &>.cv-el-switch-icon-right {
            margin-right: $size-gap-xs;
        }
        &>.cv-el-switch-text-left,
        &>.cv-el-switch-text-right {
            font-size: 12px;
            z-index: 3;
            text-shadow: 1px 1px 1px #{$color-black}4d;
        }
        &>.cv-el-switch-text-left {
            margin-left: $size-gap-s;
        }
        &>.cv-el-switch-text-right {
            margin-right: $size-gap-s;
        }
    }

    &.cv-el-switch-disabled {
        cursor: not-allowed;
        &>.cv-el-switch-cover {
            opacity: 0.5;
        }
    }
}
